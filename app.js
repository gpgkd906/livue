(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();function Fn(e,t){const r=Object.create(null),n=e.split(",");for(let i=0;i<n.length;i++)r[n[i]]=!0;return t?i=>!!r[i.toLowerCase()]:i=>!!r[i]}const ea="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ta=Fn(ea);function ho(e){return!!e||e===""}function Bn(e){if(L(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=ce(n)?ia(n):Bn(n);if(i)for(const o in i)t[o]=i[o]}return t}else{if(ce(e))return e;if(le(e))return e}}const ra=/;(?![^(]*\))/g,na=/:(.+)/;function ia(e){const t={};return e.split(ra).forEach(r=>{if(r){const n=r.split(na);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Ln(e){let t="";if(ce(e))t=e;else if(L(e))for(let r=0;r<e.length;r++){const n=Ln(e[r]);n&&(t+=n+" ")}else if(le(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const oa=e=>ce(e)?e:e==null?"":L(e)||le(e)&&(e.toString===yo||!N(e.toString))?JSON.stringify(e,mo,2):String(e),mo=(e,t)=>t&&t.__v_isRef?mo(e,t.value):Rt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,i])=>(r[`${n} =>`]=i,r),{})}:go(t)?{[`Set(${t.size})`]:[...t.values()]}:le(t)&&!L(t)&&!_o(t)?String(t):t,Y={},Et=[],$e=()=>{},sa=()=>!1,aa=/^on[^a-z]/,Ir=e=>aa.test(e),$n=e=>e.startsWith("onUpdate:"),me=Object.assign,Nn=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},ca=Object.prototype.hasOwnProperty,G=(e,t)=>ca.call(e,t),L=Array.isArray,Rt=e=>Ar(e)==="[object Map]",go=e=>Ar(e)==="[object Set]",N=e=>typeof e=="function",ce=e=>typeof e=="string",Un=e=>typeof e=="symbol",le=e=>e!==null&&typeof e=="object",vo=e=>le(e)&&N(e.then)&&N(e.catch),yo=Object.prototype.toString,Ar=e=>yo.call(e),la=e=>Ar(e).slice(8,-1),_o=e=>Ar(e)==="[object Object]",zn=e=>ce(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,dr=Fn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),jr=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},fa=/-(\w)/g,Mt=jr(e=>e.replace(fa,(t,r)=>r?r.toUpperCase():"")),ua=/\B([A-Z])/g,It=jr(e=>e.replace(ua,"-$1").toLowerCase()),bo=jr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Yr=jr(e=>e?`on${bo(e)}`:""),Xt=(e,t)=>!Object.is(e,t),hr=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},Cr=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},an=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let pi;const pa=()=>pi||(pi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let ze;class da{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&ze&&(this.parent=ze,this.index=(ze.scopes||(ze.scopes=[])).push(this)-1)}run(t){if(this.active){const r=ze;try{return ze=this,t()}finally{ze=r}}}on(){ze=this}off(){ze=this.parent}stop(t){if(this.active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.active=!1}}}function ha(e,t=ze){t&&t.active&&t.effects.push(e)}const wn=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Co=e=>(e.w&ct)>0,So=e=>(e.n&ct)>0,ma=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=ct},ga=e=>{const{deps:t}=e;if(t.length){let r=0;for(let n=0;n<t.length;n++){const i=t[n];Co(i)&&!So(i)?i.delete(e):t[r++]=i,i.w&=~ct,i.n&=~ct}t.length=r}},cn=new WeakMap;let wt=0,ct=1;const ln=30;let je;const _t=Symbol(""),fn=Symbol("");class Gn{constructor(t,r=null,n){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,ha(this,n)}run(){if(!this.active)return this.fn();let t=je,r=st;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=je,je=this,st=!0,ct=1<<++wt,wt<=ln?ma(this):di(this),this.fn()}finally{wt<=ln&&ga(this),ct=1<<--wt,je=this.parent,st=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){je===this?this.deferStop=!0:this.active&&(di(this),this.onStop&&this.onStop(),this.active=!1)}}function di(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let st=!0;const To=[];function At(){To.push(st),st=!1}function jt(){const e=To.pop();st=e===void 0?!0:e}function xe(e,t,r){if(st&&je){let n=cn.get(e);n||cn.set(e,n=new Map);let i=n.get(r);i||n.set(r,i=wn()),Po(i)}}function Po(e,t){let r=!1;wt<=ln?So(e)||(e.n|=ct,r=!Co(e)):r=!e.has(je),r&&(e.add(je),je.deps.push(e))}function et(e,t,r,n,i,o){const s=cn.get(e);if(!s)return;let l=[];if(t==="clear")l=[...s.values()];else if(r==="length"&&L(e))s.forEach((a,c)=>{(c==="length"||c>=n)&&l.push(a)});else switch(r!==void 0&&l.push(s.get(r)),t){case"add":L(e)?zn(r)&&l.push(s.get("length")):(l.push(s.get(_t)),Rt(e)&&l.push(s.get(fn)));break;case"delete":L(e)||(l.push(s.get(_t)),Rt(e)&&l.push(s.get(fn)));break;case"set":Rt(e)&&l.push(s.get(_t));break}if(l.length===1)l[0]&&un(l[0]);else{const a=[];for(const c of l)c&&a.push(...c);un(wn(a))}}function un(e,t){const r=L(e)?e:[...e];for(const n of r)n.computed&&hi(n);for(const n of r)n.computed||hi(n)}function hi(e,t){(e!==je||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const va=Fn("__proto__,__v_isRef,__isVue"),ko=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Un)),ya=Hn(),_a=Hn(!1,!0),ba=Hn(!0),mi=Ca();function Ca(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=J(this);for(let o=0,s=this.length;o<s;o++)xe(n,"get",o+"");const i=n[t](...r);return i===-1||i===!1?n[t](...r.map(J)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){At();const n=J(this)[t].apply(this,r);return jt(),n}}),e}function Hn(e=!1,t=!1){return function(n,i,o){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&o===(e?t?La:Mo:t?Oo:Ro).get(n))return n;const s=L(n);if(!e&&s&&G(mi,i))return Reflect.get(mi,i,o);const l=Reflect.get(n,i,o);return(Un(i)?ko.has(i):va(i))||(e||xe(n,"get",i),t)?l:de(l)?s&&zn(i)?l:l.value:le(l)?e?Do(l):Br(l):l}}const Sa=xo(),Ta=xo(!0);function xo(e=!1){return function(r,n,i,o){let s=r[n];if(Qt(s)&&de(s)&&!de(i))return!1;if(!e&&!Qt(i)&&(pn(i)||(i=J(i),s=J(s)),!L(r)&&de(s)&&!de(i)))return s.value=i,!0;const l=L(r)&&zn(n)?Number(n)<r.length:G(r,n),a=Reflect.set(r,n,i,o);return r===J(o)&&(l?Xt(i,s)&&et(r,"set",n,i):et(r,"add",n,i)),a}}function Pa(e,t){const r=G(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&r&&et(e,"delete",t,void 0),n}function ka(e,t){const r=Reflect.has(e,t);return(!Un(t)||!ko.has(t))&&xe(e,"has",t),r}function xa(e){return xe(e,"iterate",L(e)?"length":_t),Reflect.ownKeys(e)}const Eo={get:ya,set:Sa,deleteProperty:Pa,has:ka,ownKeys:xa},Ea={get:ba,set(e,t){return!0},deleteProperty(e,t){return!0}},Ra=me({},Eo,{get:_a,set:Ta}),Jn=e=>e,Fr=e=>Reflect.getPrototypeOf(e);function or(e,t,r=!1,n=!1){e=e.__v_raw;const i=J(e),o=J(t);r||(t!==o&&xe(i,"get",t),xe(i,"get",o));const{has:s}=Fr(i),l=n?Jn:r?Wn:Zt;if(s.call(i,t))return l(e.get(t));if(s.call(i,o))return l(e.get(o));e!==i&&e.get(t)}function sr(e,t=!1){const r=this.__v_raw,n=J(r),i=J(e);return t||(e!==i&&xe(n,"has",e),xe(n,"has",i)),e===i?r.has(e):r.has(e)||r.has(i)}function ar(e,t=!1){return e=e.__v_raw,!t&&xe(J(e),"iterate",_t),Reflect.get(e,"size",e)}function gi(e){e=J(e);const t=J(this);return Fr(t).has.call(t,e)||(t.add(e),et(t,"add",e,e)),this}function vi(e,t){t=J(t);const r=J(this),{has:n,get:i}=Fr(r);let o=n.call(r,e);o||(e=J(e),o=n.call(r,e));const s=i.call(r,e);return r.set(e,t),o?Xt(t,s)&&et(r,"set",e,t):et(r,"add",e,t),this}function yi(e){const t=J(this),{has:r,get:n}=Fr(t);let i=r.call(t,e);i||(e=J(e),i=r.call(t,e)),n&&n.call(t,e);const o=t.delete(e);return i&&et(t,"delete",e,void 0),o}function _i(){const e=J(this),t=e.size!==0,r=e.clear();return t&&et(e,"clear",void 0,void 0),r}function cr(e,t){return function(n,i){const o=this,s=o.__v_raw,l=J(s),a=t?Jn:e?Wn:Zt;return!e&&xe(l,"iterate",_t),s.forEach((c,f)=>n.call(i,a(c),a(f),o))}}function lr(e,t,r){return function(...n){const i=this.__v_raw,o=J(i),s=Rt(o),l=e==="entries"||e===Symbol.iterator&&s,a=e==="keys"&&s,c=i[e](...n),f=r?Jn:t?Wn:Zt;return!t&&xe(o,"iterate",a?fn:_t),{next(){const{value:u,done:p}=c.next();return p?{value:u,done:p}:{value:l?[f(u[0]),f(u[1])]:f(u),done:p}},[Symbol.iterator](){return this}}}}function nt(e){return function(...t){return e==="delete"?!1:this}}function Oa(){const e={get(o){return or(this,o)},get size(){return ar(this)},has:sr,add:gi,set:vi,delete:yi,clear:_i,forEach:cr(!1,!1)},t={get(o){return or(this,o,!1,!0)},get size(){return ar(this)},has:sr,add:gi,set:vi,delete:yi,clear:_i,forEach:cr(!1,!0)},r={get(o){return or(this,o,!0)},get size(){return ar(this,!0)},has(o){return sr.call(this,o,!0)},add:nt("add"),set:nt("set"),delete:nt("delete"),clear:nt("clear"),forEach:cr(!0,!1)},n={get(o){return or(this,o,!0,!0)},get size(){return ar(this,!0)},has(o){return sr.call(this,o,!0)},add:nt("add"),set:nt("set"),delete:nt("delete"),clear:nt("clear"),forEach:cr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=lr(o,!1,!1),r[o]=lr(o,!0,!1),t[o]=lr(o,!1,!0),n[o]=lr(o,!0,!0)}),[e,r,t,n]}const[Ma,Da,Ia,Aa]=Oa();function Kn(e,t){const r=t?e?Aa:Ia:e?Da:Ma;return(n,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(G(r,i)&&i in n?r:n,i,o)}const ja={get:Kn(!1,!1)},Fa={get:Kn(!1,!0)},Ba={get:Kn(!0,!1)},Ro=new WeakMap,Oo=new WeakMap,Mo=new WeakMap,La=new WeakMap;function $a(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Na(e){return e.__v_skip||!Object.isExtensible(e)?0:$a(la(e))}function Br(e){return Qt(e)?e:Vn(e,!1,Eo,ja,Ro)}function Ua(e){return Vn(e,!1,Ra,Fa,Oo)}function Do(e){return Vn(e,!0,Ea,Ba,Mo)}function Vn(e,t,r,n,i){if(!le(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const s=Na(e);if(s===0)return e;const l=new Proxy(e,s===2?n:r);return i.set(e,l),l}function Ot(e){return Qt(e)?Ot(e.__v_raw):!!(e&&e.__v_isReactive)}function Qt(e){return!!(e&&e.__v_isReadonly)}function pn(e){return!!(e&&e.__v_isShallow)}function Io(e){return Ot(e)||Qt(e)}function J(e){const t=e&&e.__v_raw;return t?J(t):e}function Ao(e){return Cr(e,"__v_skip",!0),e}const Zt=e=>le(e)?Br(e):e,Wn=e=>le(e)?Do(e):e;function jo(e){st&&je&&(e=J(e),Po(e.dep||(e.dep=wn())))}function Fo(e,t){e=J(e),e.dep&&un(e.dep)}function de(e){return!!(e&&e.__v_isRef===!0)}function qn(e){return za(e,!1)}function za(e,t){return de(e)?e:new wa(e,t)}class wa{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:J(t),this._value=r?t:Zt(t)}get value(){return jo(this),this._value}set value(t){t=this.__v_isShallow?t:J(t),Xt(t,this._rawValue)&&(this._rawValue=t,this._value=this.__v_isShallow?t:Zt(t),Fo(this))}}function Pe(e){return de(e)?e.value:e}const Ga={get:(e,t,r)=>Pe(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return de(i)&&!de(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function Bo(e){return Ot(e)?e:new Proxy(e,Ga)}class Ha{constructor(t,r,n,i){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Gn(t,()=>{this._dirty||(this._dirty=!0,Fo(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const t=J(this);return jo(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Ja(e,t,r=!1){let n,i;const o=N(e);return o?(n=e,i=$e):(n=e.get,i=e.set),new Ha(n,i,o||!i,r)}function at(e,t,r,n){let i;try{i=n?e(...n):e()}catch(o){Lr(o,t,r)}return i}function Me(e,t,r,n){if(N(e)){const o=at(e,t,r,n);return o&&vo(o)&&o.catch(s=>{Lr(s,t,r)}),o}const i=[];for(let o=0;o<e.length;o++)i.push(Me(e[o],t,r,n));return i}function Lr(e,t,r,n=!0){const i=t?t.vnode:null;if(t){let o=t.parent;const s=t.proxy,l=r;for(;o;){const c=o.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,s,l)===!1)return}o=o.parent}const a=t.appContext.config.errorHandler;if(a){at(a,null,10,[e,s,l]);return}}Ka(e,r,i,n)}function Ka(e,t,r,n=!0){console.error(e)}let Sr=!1,dn=!1;const ke=[];let qe=0;const Vt=[];let Gt=null,Pt=0;const Wt=[];let it=null,kt=0;const Lo=Promise.resolve();let Yn=null,hn=null;function Va(e){const t=Yn||Lo;return e?t.then(this?e.bind(this):e):t}function Wa(e){let t=qe+1,r=ke.length;for(;t<r;){const n=t+r>>>1;er(ke[n])<e?t=n+1:r=n}return t}function $o(e){(!ke.length||!ke.includes(e,Sr&&e.allowRecurse?qe+1:qe))&&e!==hn&&(e.id==null?ke.push(e):ke.splice(Wa(e.id),0,e),No())}function No(){!Sr&&!dn&&(dn=!0,Yn=Lo.then(wo))}function qa(e){const t=ke.indexOf(e);t>qe&&ke.splice(t,1)}function Uo(e,t,r,n){L(e)?r.push(...e):(!t||!t.includes(e,e.allowRecurse?n+1:n))&&r.push(e),No()}function Ya(e){Uo(e,Gt,Vt,Pt)}function Xa(e){Uo(e,it,Wt,kt)}function $r(e,t=null){if(Vt.length){for(hn=t,Gt=[...new Set(Vt)],Vt.length=0,Pt=0;Pt<Gt.length;Pt++)Gt[Pt]();Gt=null,Pt=0,hn=null,$r(e,t)}}function zo(e){if($r(),Wt.length){const t=[...new Set(Wt)];if(Wt.length=0,it){it.push(...t);return}for(it=t,it.sort((r,n)=>er(r)-er(n)),kt=0;kt<it.length;kt++)it[kt]();it=null,kt=0}}const er=e=>e.id==null?1/0:e.id;function wo(e){dn=!1,Sr=!0,$r(e),ke.sort((r,n)=>er(r)-er(n));const t=$e;try{for(qe=0;qe<ke.length;qe++){const r=ke[qe];r&&r.active!==!1&&at(r,null,14)}}finally{qe=0,ke.length=0,zo(),Sr=!1,Yn=null,(ke.length||Vt.length||Wt.length)&&wo(e)}}function Qa(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||Y;let i=r;const o=t.startsWith("update:"),s=o&&t.slice(7);if(s&&s in n){const f=`${s==="modelValue"?"model":s}Modifiers`,{number:u,trim:p}=n[f]||Y;p&&(i=r.map(g=>g.trim())),u&&(i=r.map(an))}let l,a=n[l=Yr(t)]||n[l=Yr(Mt(t))];!a&&o&&(a=n[l=Yr(It(t))]),a&&Me(a,e,6,i);const c=n[l+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Me(c,e,6,i)}}function Go(e,t,r=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const o=e.emits;let s={},l=!1;if(!N(e)){const a=c=>{const f=Go(c,t,!0);f&&(l=!0,me(s,f))};!r&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!o&&!l?(n.set(e,null),null):(L(o)?o.forEach(a=>s[a]=null):me(s,o),n.set(e,s),s)}function Nr(e,t){return!e||!Ir(t)?!1:(t=t.slice(2).replace(/Once$/,""),G(e,t[0].toLowerCase()+t.slice(1))||G(e,It(t))||G(e,t))}let Be=null,Ur=null;function Tr(e){const t=Be;return Be=e,Ur=e&&e.type.__scopeId||null,t}function Ho(e){Ur=e}function Jo(){Ur=null}function Za(e,t=Be,r){if(!t||e._n)return e;const n=(...i)=>{n._d&&Oi(-1);const o=Tr(t),s=e(...i);return Tr(o),n._d&&Oi(1),s};return n._n=!0,n._c=!0,n._d=!0,n}function Xr(e){const{type:t,vnode:r,proxy:n,withProxy:i,props:o,propsOptions:[s],slots:l,attrs:a,emit:c,render:f,renderCache:u,data:p,setupState:g,ctx:m,inheritAttrs:b}=e;let R,T;const M=Tr(e);try{if(r.shapeFlag&4){const $=i||n;R=we(f.call($,$,u,o,g,p,m)),T=a}else{const $=t;R=we($.length>1?$(o,{attrs:a,slots:l,emit:c}):$(o,null)),T=t.props?a:ec(a)}}catch($){qt.length=0,Lr($,e,1),R=Ze(Qe)}let w=R;if(T&&b!==!1){const $=Object.keys(T),{shapeFlag:U}=w;$.length&&U&7&&(s&&$.some($n)&&(T=tc(T,s)),w=lt(w,T))}return r.dirs&&(w=lt(w),w.dirs=w.dirs?w.dirs.concat(r.dirs):r.dirs),r.transition&&(w.transition=r.transition),R=w,Tr(M),R}const ec=e=>{let t;for(const r in e)(r==="class"||r==="style"||Ir(r))&&((t||(t={}))[r]=e[r]);return t},tc=(e,t)=>{const r={};for(const n in e)(!$n(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function rc(e,t,r){const{props:n,children:i,component:o}=e,{props:s,children:l,patchFlag:a}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&a>=0){if(a&1024)return!0;if(a&16)return n?bi(n,s,c):!!s;if(a&8){const f=t.dynamicProps;for(let u=0;u<f.length;u++){const p=f[u];if(s[p]!==n[p]&&!Nr(c,p))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:n===s?!1:n?s?bi(n,s,c):!0:!!s;return!1}function bi(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(t[o]!==e[o]&&!Nr(r,o))return!0}return!1}function nc({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const ic=e=>e.__isSuspense;function oc(e,t){t&&t.pendingBranch?L(e)?t.effects.push(...e):t.effects.push(e):Xa(e)}function sc(e,t){if(ae){let r=ae.provides;const n=ae.parent&&ae.parent.provides;n===r&&(r=ae.provides=Object.create(n)),r[e]=t}}function Qr(e,t,r=!1){const n=ae||Be;if(n){const i=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return r&&N(t)?t.call(n.proxy):t}}const Ci={};function Zr(e,t,r){return Ko(e,t,r)}function Ko(e,t,{immediate:r,deep:n,flush:i,onTrack:o,onTrigger:s}=Y){const l=ae;let a,c=!1,f=!1;if(de(e)?(a=()=>e.value,c=pn(e)):Ot(e)?(a=()=>e,n=!0):L(e)?(f=!0,c=e.some(T=>Ot(T)||pn(T)),a=()=>e.map(T=>{if(de(T))return T.value;if(Ot(T))return yt(T);if(N(T))return at(T,l,2)})):N(e)?t?a=()=>at(e,l,2):a=()=>{if(!(l&&l.isUnmounted))return u&&u(),Me(e,l,3,[p])}:a=$e,t&&n){const T=a;a=()=>yt(T())}let u,p=T=>{u=R.onStop=()=>{at(T,l,4)}};if(rr)return p=$e,t?r&&Me(t,l,3,[a(),f?[]:void 0,p]):a(),$e;let g=f?[]:Ci;const m=()=>{if(!!R.active)if(t){const T=R.run();(n||c||(f?T.some((M,w)=>Xt(M,g[w])):Xt(T,g)))&&(u&&u(),Me(t,l,3,[T,g===Ci?void 0:g,p]),g=T)}else R.run()};m.allowRecurse=!!t;let b;i==="sync"?b=m:i==="post"?b=()=>be(m,l&&l.suspense):b=()=>Ya(m);const R=new Gn(a,b);return t?r?m():g=R.run():i==="post"?be(R.run.bind(R),l&&l.suspense):R.run(),()=>{R.stop(),l&&l.scope&&Nn(l.scope.effects,R)}}function ac(e,t,r){const n=this.proxy,i=ce(e)?e.includes(".")?Vo(n,e):()=>n[e]:e.bind(n,n);let o;N(t)?o=t:(o=t.handler,r=t);const s=ae;Dt(this);const l=Ko(i,o.bind(n),r);return s?Dt(s):bt(),l}function Vo(e,t){const r=t.split(".");return()=>{let n=e;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}function yt(e,t){if(!le(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),de(e))yt(e.value,t);else if(L(e))for(let r=0;r<e.length;r++)yt(e[r],t);else if(go(e)||Rt(e))e.forEach(r=>{yt(r,t)});else if(_o(e))for(const r in e)yt(e[r],t);return e}function cc(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Xo(()=>{e.isMounted=!0}),Qo(()=>{e.isUnmounting=!0}),e}const Re=[Function,Array],lc={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Re,onEnter:Re,onAfterEnter:Re,onEnterCancelled:Re,onBeforeLeave:Re,onLeave:Re,onAfterLeave:Re,onLeaveCancelled:Re,onBeforeAppear:Re,onAppear:Re,onAfterAppear:Re,onAppearCancelled:Re},setup(e,{slots:t}){const r=Wc(),n=cc();let i;return()=>{const o=t.default&&qo(t.default(),!0);if(!o||!o.length)return;let s=o[0];if(o.length>1){for(const b of o)if(b.type!==Qe){s=b;break}}const l=J(e),{mode:a}=l;if(n.isLeaving)return en(s);const c=Si(s);if(!c)return en(s);const f=mn(c,l,n,r);gn(c,f);const u=r.subTree,p=u&&Si(u);let g=!1;const{getTransitionKey:m}=c.type;if(m){const b=m();i===void 0?i=b:b!==i&&(i=b,g=!0)}if(p&&p.type!==Qe&&(!gt(c,p)||g)){const b=mn(p,l,n,r);if(gn(p,b),a==="out-in")return n.isLeaving=!0,b.afterLeave=()=>{n.isLeaving=!1,r.update()},en(s);a==="in-out"&&c.type!==Qe&&(b.delayLeave=(R,T,M)=>{const w=Wo(n,p);w[String(p.key)]=p,R._leaveCb=()=>{T(),R._leaveCb=void 0,delete f.delayedLeave},f.delayedLeave=M})}return s}}},fc=lc;function Wo(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function mn(e,t,r,n){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:l,onEnter:a,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:u,onLeave:p,onAfterLeave:g,onLeaveCancelled:m,onBeforeAppear:b,onAppear:R,onAfterAppear:T,onAppearCancelled:M}=t,w=String(e.key),$=Wo(r,e),U=(j,X)=>{j&&Me(j,n,9,X)},te=(j,X)=>{const D=X[1];U(j,X),L(j)?j.every(ne=>ne.length<=1)&&D():j.length<=1&&D()},Z={mode:o,persisted:s,beforeEnter(j){let X=l;if(!r.isMounted)if(i)X=b||l;else return;j._leaveCb&&j._leaveCb(!0);const D=$[w];D&&gt(e,D)&&D.el._leaveCb&&D.el._leaveCb(),U(X,[j])},enter(j){let X=a,D=c,ne=f;if(!r.isMounted)if(i)X=R||a,D=T||c,ne=M||f;else return;let ie=!1;const Se=j._enterCb=_e=>{ie||(ie=!0,_e?U(ne,[j]):U(D,[j]),Z.delayedLeave&&Z.delayedLeave(),j._enterCb=void 0)};X?te(X,[j,Se]):Se()},leave(j,X){const D=String(e.key);if(j._enterCb&&j._enterCb(!0),r.isUnmounting)return X();U(u,[j]);let ne=!1;const ie=j._leaveCb=Se=>{ne||(ne=!0,X(),Se?U(m,[j]):U(g,[j]),j._leaveCb=void 0,$[D]===e&&delete $[D])};$[D]=e,p?te(p,[j,ie]):ie()},clone(j){return mn(j,t,r,n)}};return Z}function en(e){if(zr(e))return e=lt(e),e.children=null,e}function Si(e){return zr(e)?e.children?e.children[0]:void 0:e}function gn(e,t){e.shapeFlag&6&&e.component?gn(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function qo(e,t=!1,r){let n=[],i=0;for(let o=0;o<e.length;o++){let s=e[o];const l=r==null?s.key:String(r)+String(s.key!=null?s.key:o);s.type===Oe?(s.patchFlag&128&&i++,n=n.concat(qo(s.children,t,l))):(t||s.type!==Qe)&&n.push(l!=null?lt(s,{key:l}):s)}if(i>1)for(let o=0;o<n.length;o++)n[o].patchFlag=-2;return n}function Xn(e){return N(e)?{setup:e,name:e.name}:e}const mr=e=>!!e.type.__asyncLoader,zr=e=>e.type.__isKeepAlive;function uc(e,t){Yo(e,"a",t)}function pc(e,t){Yo(e,"da",t)}function Yo(e,t,r=ae){const n=e.__wdc||(e.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(wr(t,n,r),r){let i=r.parent;for(;i&&i.parent;)zr(i.parent.vnode)&&dc(n,t,r,i),i=i.parent}}function dc(e,t,r,n){const i=wr(t,e,n,!0);Zo(()=>{Nn(n[t],i)},r)}function wr(e,t,r=ae,n=!1){if(r){const i=r[e]||(r[e]=[]),o=t.__weh||(t.__weh=(...s)=>{if(r.isUnmounted)return;At(),Dt(r);const l=Me(t,r,e,s);return bt(),jt(),l});return n?i.unshift(o):i.push(o),o}}const tt=e=>(t,r=ae)=>(!rr||e==="sp")&&wr(e,t,r),hc=tt("bm"),Xo=tt("m"),mc=tt("bu"),gc=tt("u"),Qo=tt("bum"),Zo=tt("um"),vc=tt("sp"),yc=tt("rtg"),_c=tt("rtc");function bc(e,t=ae){wr("ec",e,t)}function Pr(e,t){const r=Be;if(r===null)return e;const n=Hr(r)||r.proxy,i=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[s,l,a,c=Y]=t[o];N(s)&&(s={mounted:s,updated:s}),s.deep&&yt(l),i.push({dir:s,instance:n,value:l,oldValue:void 0,arg:a,modifiers:c})}return e}function ut(e,t,r,n){const i=e.dirs,o=t&&t.dirs;for(let s=0;s<i.length;s++){const l=i[s];o&&(l.oldValue=o[s].value);let a=l.dir[n];a&&(At(),Me(a,r,8,[e.el,l,e,t]),jt())}}const Cc=Symbol(),vn=e=>e?us(e)?Hr(e)||e.proxy:vn(e.parent):null,kr=me(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>vn(e.parent),$root:e=>vn(e.root),$emit:e=>e.emit,$options:e=>ts(e),$forceUpdate:e=>e.f||(e.f=()=>$o(e.update)),$nextTick:e=>e.n||(e.n=Va.bind(e.proxy)),$watch:e=>ac.bind(e)}),Sc={get({_:e},t){const{ctx:r,setupState:n,data:i,props:o,accessCache:s,type:l,appContext:a}=e;let c;if(t[0]!=="$"){const g=s[t];if(g!==void 0)switch(g){case 1:return n[t];case 2:return i[t];case 4:return r[t];case 3:return o[t]}else{if(n!==Y&&G(n,t))return s[t]=1,n[t];if(i!==Y&&G(i,t))return s[t]=2,i[t];if((c=e.propsOptions[0])&&G(c,t))return s[t]=3,o[t];if(r!==Y&&G(r,t))return s[t]=4,r[t];yn&&(s[t]=0)}}const f=kr[t];let u,p;if(f)return t==="$attrs"&&xe(e,"get",t),f(e);if((u=l.__cssModules)&&(u=u[t]))return u;if(r!==Y&&G(r,t))return s[t]=4,r[t];if(p=a.config.globalProperties,G(p,t))return p[t]},set({_:e},t,r){const{data:n,setupState:i,ctx:o}=e;return i!==Y&&G(i,t)?(i[t]=r,!0):n!==Y&&G(n,t)?(n[t]=r,!0):G(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:i,propsOptions:o}},s){let l;return!!r[s]||e!==Y&&G(e,s)||t!==Y&&G(t,s)||(l=o[0])&&G(l,s)||G(n,s)||G(kr,s)||G(i.config.globalProperties,s)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:G(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};let yn=!0;function Tc(e){const t=ts(e),r=e.proxy,n=e.ctx;yn=!1,t.beforeCreate&&Ti(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:s,watch:l,provide:a,inject:c,created:f,beforeMount:u,mounted:p,beforeUpdate:g,updated:m,activated:b,deactivated:R,beforeDestroy:T,beforeUnmount:M,destroyed:w,unmounted:$,render:U,renderTracked:te,renderTriggered:Z,errorCaptured:j,serverPrefetch:X,expose:D,inheritAttrs:ne,components:ie,directives:Se,filters:_e}=t;if(c&&Pc(c,n,null,e.appContext.config.unwrapInjectedRef),s)for(const V in s){const z=s[V];N(z)&&(n[V]=z.bind(r))}if(i){const V=i.call(r,r);le(V)&&(e.data=Br(V))}if(yn=!0,o)for(const V in o){const z=o[V],Ee=N(z)?z.bind(r,r):N(z.get)?z.get.bind(r,r):$e,Ct=!N(z)&&N(z.set)?z.set.bind(r):$e,He=el({get:Ee,set:Ct});Object.defineProperty(n,V,{enumerable:!0,configurable:!0,get:()=>He.value,set:Je=>He.value=Je})}if(l)for(const V in l)es(l[V],n,r,V);if(a){const V=N(a)?a.call(r):a;Reflect.ownKeys(V).forEach(z=>{sc(z,V[z])})}f&&Ti(f,e,"c");function re(V,z){L(z)?z.forEach(Ee=>V(Ee.bind(r))):z&&V(z.bind(r))}if(re(hc,u),re(Xo,p),re(mc,g),re(gc,m),re(uc,b),re(pc,R),re(bc,j),re(_c,te),re(yc,Z),re(Qo,M),re(Zo,$),re(vc,X),L(D))if(D.length){const V=e.exposed||(e.exposed={});D.forEach(z=>{Object.defineProperty(V,z,{get:()=>r[z],set:Ee=>r[z]=Ee})})}else e.exposed||(e.exposed={});U&&e.render===$e&&(e.render=U),ne!=null&&(e.inheritAttrs=ne),ie&&(e.components=ie),Se&&(e.directives=Se)}function Pc(e,t,r=$e,n=!1){L(e)&&(e=_n(e));for(const i in e){const o=e[i];let s;le(o)?"default"in o?s=Qr(o.from||i,o.default,!0):s=Qr(o.from||i):s=Qr(o),de(s)&&n?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:l=>s.value=l}):t[i]=s}}function Ti(e,t,r){Me(L(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function es(e,t,r,n){const i=n.includes(".")?Vo(r,n):()=>r[n];if(ce(e)){const o=t[e];N(o)&&Zr(i,o)}else if(N(e))Zr(i,e.bind(r));else if(le(e))if(L(e))e.forEach(o=>es(o,t,r,n));else{const o=N(e.handler)?e.handler.bind(r):t[e.handler];N(o)&&Zr(i,o,e)}}function ts(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,l=o.get(t);let a;return l?a=l:!i.length&&!r&&!n?a=t:(a={},i.length&&i.forEach(c=>xr(a,c,s,!0)),xr(a,t,s)),o.set(t,a),a}function xr(e,t,r,n=!1){const{mixins:i,extends:o}=t;o&&xr(e,o,r,!0),i&&i.forEach(s=>xr(e,s,r,!0));for(const s in t)if(!(n&&s==="expose")){const l=kc[s]||r&&r[s];e[s]=l?l(e[s],t[s]):t[s]}return e}const kc={data:Pi,props:mt,emits:mt,methods:mt,computed:mt,beforeCreate:ve,created:ve,beforeMount:ve,mounted:ve,beforeUpdate:ve,updated:ve,beforeDestroy:ve,beforeUnmount:ve,destroyed:ve,unmounted:ve,activated:ve,deactivated:ve,errorCaptured:ve,serverPrefetch:ve,components:mt,directives:mt,watch:Ec,provide:Pi,inject:xc};function Pi(e,t){return t?e?function(){return me(N(e)?e.call(this,this):e,N(t)?t.call(this,this):t)}:t:e}function xc(e,t){return mt(_n(e),_n(t))}function _n(e){if(L(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function ve(e,t){return e?[...new Set([].concat(e,t))]:t}function mt(e,t){return e?me(me(Object.create(null),e),t):t}function Ec(e,t){if(!e)return t;if(!t)return e;const r=me(Object.create(null),e);for(const n in t)r[n]=ve(e[n],t[n]);return r}function Rc(e,t,r,n=!1){const i={},o={};Cr(o,Gr,1),e.propsDefaults=Object.create(null),rs(e,t,i,o);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);r?e.props=n?i:Ua(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function Oc(e,t,r,n){const{props:i,attrs:o,vnode:{patchFlag:s}}=e,l=J(i),[a]=e.propsOptions;let c=!1;if((n||s>0)&&!(s&16)){if(s&8){const f=e.vnode.dynamicProps;for(let u=0;u<f.length;u++){let p=f[u];if(Nr(e.emitsOptions,p))continue;const g=t[p];if(a)if(G(o,p))g!==o[p]&&(o[p]=g,c=!0);else{const m=Mt(p);i[m]=bn(a,l,m,g,e,!1)}else g!==o[p]&&(o[p]=g,c=!0)}}}else{rs(e,t,i,o)&&(c=!0);let f;for(const u in l)(!t||!G(t,u)&&((f=It(u))===u||!G(t,f)))&&(a?r&&(r[u]!==void 0||r[f]!==void 0)&&(i[u]=bn(a,l,u,void 0,e,!0)):delete i[u]);if(o!==l)for(const u in o)(!t||!G(t,u)&&!0)&&(delete o[u],c=!0)}c&&et(e,"set","$attrs")}function rs(e,t,r,n){const[i,o]=e.propsOptions;let s=!1,l;if(t)for(let a in t){if(dr(a))continue;const c=t[a];let f;i&&G(i,f=Mt(a))?!o||!o.includes(f)?r[f]=c:(l||(l={}))[f]=c:Nr(e.emitsOptions,a)||(!(a in n)||c!==n[a])&&(n[a]=c,s=!0)}if(o){const a=J(r),c=l||Y;for(let f=0;f<o.length;f++){const u=o[f];r[u]=bn(i,a,u,c[u],e,!G(c,u))}}return s}function bn(e,t,r,n,i,o){const s=e[r];if(s!=null){const l=G(s,"default");if(l&&n===void 0){const a=s.default;if(s.type!==Function&&N(a)){const{propsDefaults:c}=i;r in c?n=c[r]:(Dt(i),n=c[r]=a.call(null,t),bt())}else n=a}s[0]&&(o&&!l?n=!1:s[1]&&(n===""||n===It(r))&&(n=!0))}return n}function ns(e,t,r=!1){const n=t.propsCache,i=n.get(e);if(i)return i;const o=e.props,s={},l=[];let a=!1;if(!N(e)){const f=u=>{a=!0;const[p,g]=ns(u,t,!0);me(s,p),g&&l.push(...g)};!r&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!o&&!a)return n.set(e,Et),Et;if(L(o))for(let f=0;f<o.length;f++){const u=Mt(o[f]);ki(u)&&(s[u]=Y)}else if(o)for(const f in o){const u=Mt(f);if(ki(u)){const p=o[f],g=s[u]=L(p)||N(p)?{type:p}:p;if(g){const m=Ri(Boolean,g.type),b=Ri(String,g.type);g[0]=m>-1,g[1]=b<0||m<b,(m>-1||G(g,"default"))&&l.push(u)}}}const c=[s,l];return n.set(e,c),c}function ki(e){return e[0]!=="$"}function xi(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function Ei(e,t){return xi(e)===xi(t)}function Ri(e,t){return L(t)?t.findIndex(r=>Ei(r,e)):N(t)&&Ei(t,e)?0:-1}const is=e=>e[0]==="_"||e==="$stable",Qn=e=>L(e)?e.map(we):[we(e)],Mc=(e,t,r)=>{if(t._n)return t;const n=Za((...i)=>Qn(t(...i)),r);return n._c=!1,n},os=(e,t,r)=>{const n=e._ctx;for(const i in e){if(is(i))continue;const o=e[i];if(N(o))t[i]=Mc(i,o,n);else if(o!=null){const s=Qn(o);t[i]=()=>s}}},ss=(e,t)=>{const r=Qn(t);e.slots.default=()=>r},Dc=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=J(t),Cr(t,"_",r)):os(t,e.slots={})}else e.slots={},t&&ss(e,t);Cr(e.slots,Gr,1)},Ic=(e,t,r)=>{const{vnode:n,slots:i}=e;let o=!0,s=Y;if(n.shapeFlag&32){const l=t._;l?r&&l===1?o=!1:(me(i,t),!r&&l===1&&delete i._):(o=!t.$stable,os(t,i)),s=t}else t&&(ss(e,t),s={default:1});if(o)for(const l in i)!is(l)&&!(l in s)&&delete i[l]};function as(){return{app:null,config:{isNativeTag:sa,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ac=0;function jc(e,t){return function(n,i=null){N(n)||(n=Object.assign({},n)),i!=null&&!le(i)&&(i=null);const o=as(),s=new Set;let l=!1;const a=o.app={_uid:Ac++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:tl,get config(){return o.config},set config(c){},use(c,...f){return s.has(c)||(c&&N(c.install)?(s.add(c),c.install(a,...f)):N(c)&&(s.add(c),c(a,...f))),a},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),a},component(c,f){return f?(o.components[c]=f,a):o.components[c]},directive(c,f){return f?(o.directives[c]=f,a):o.directives[c]},mount(c,f,u){if(!l){const p=Ze(n,i);return p.appContext=o,f&&t?t(p,c):e(p,c,u),l=!0,a._container=c,c.__vue_app__=a,Hr(p.component)||p.component.proxy}},unmount(){l&&(e(null,a._container),delete a._container.__vue_app__)},provide(c,f){return o.provides[c]=f,a}};return a}}function Cn(e,t,r,n,i=!1){if(L(e)){e.forEach((p,g)=>Cn(p,t&&(L(t)?t[g]:t),r,n,i));return}if(mr(n)&&!i)return;const o=n.shapeFlag&4?Hr(n.component)||n.component.proxy:n.el,s=i?null:o,{i:l,r:a}=e,c=t&&t.r,f=l.refs===Y?l.refs={}:l.refs,u=l.setupState;if(c!=null&&c!==a&&(ce(c)?(f[c]=null,G(u,c)&&(u[c]=null)):de(c)&&(c.value=null)),N(a))at(a,l,12,[s,f]);else{const p=ce(a),g=de(a);if(p||g){const m=()=>{if(e.f){const b=p?f[a]:a.value;i?L(b)&&Nn(b,o):L(b)?b.includes(o)||b.push(o):p?(f[a]=[o],G(u,a)&&(u[a]=f[a])):(a.value=[o],e.k&&(f[e.k]=a.value))}else p?(f[a]=s,G(u,a)&&(u[a]=s)):g&&(a.value=s,e.k&&(f[e.k]=s))};s?(m.id=-1,be(m,r)):m()}}}const be=oc;function Fc(e){return Bc(e)}function Bc(e,t){const r=pa();r.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:s,createText:l,createComment:a,setText:c,setElementText:f,parentNode:u,nextSibling:p,setScopeId:g=$e,cloneNode:m,insertStaticContent:b}=e,R=(d,h,v,_=null,y=null,P=null,x=!1,S=null,k=!!h.dynamicChildren)=>{if(d===h)return;d&&!gt(d,h)&&(_=St(d),De(d,y,P,!0),d=null),h.patchFlag===-2&&(k=!1,h.dynamicChildren=null);const{type:C,ref:I,shapeFlag:O}=h;switch(C){case Zn:T(d,h,v,_);break;case Qe:M(d,h,v,_);break;case tn:d==null&&w(h,v,_,x);break;case Oe:Se(d,h,v,_,y,P,x,S,k);break;default:O&1?te(d,h,v,_,y,P,x,S,k):O&6?_e(d,h,v,_,y,P,x,S,k):(O&64||O&128)&&C.process(d,h,v,_,y,P,x,S,k,Ve)}I!=null&&y&&Cn(I,d&&d.ref,P,h||d,!h)},T=(d,h,v,_)=>{if(d==null)n(h.el=l(h.children),v,_);else{const y=h.el=d.el;h.children!==d.children&&c(y,h.children)}},M=(d,h,v,_)=>{d==null?n(h.el=a(h.children||""),v,_):h.el=d.el},w=(d,h,v,_)=>{[d.el,d.anchor]=b(d.children,h,v,_,d.el,d.anchor)},$=({el:d,anchor:h},v,_)=>{let y;for(;d&&d!==h;)y=p(d),n(d,v,_),d=y;n(h,v,_)},U=({el:d,anchor:h})=>{let v;for(;d&&d!==h;)v=p(d),i(d),d=v;i(h)},te=(d,h,v,_,y,P,x,S,k)=>{x=x||h.type==="svg",d==null?Z(h,v,_,y,P,x,S,k):D(d,h,y,P,x,S,k)},Z=(d,h,v,_,y,P,x,S)=>{let k,C;const{type:I,props:O,shapeFlag:A,transition:B,patchFlag:H,dirs:W}=d;if(d.el&&m!==void 0&&H===-1)k=d.el=m(d.el);else{if(k=d.el=s(d.type,P,O&&O.is,O),A&8?f(k,d.children):A&16&&X(d.children,k,null,_,y,P&&I!=="foreignObject",x,S),W&&ut(d,null,_,"created"),O){for(const Q in O)Q!=="value"&&!dr(Q)&&o(k,Q,null,O[Q],P,d.children,_,y,Ie);"value"in O&&o(k,"value",null,O.value),(C=O.onVnodeBeforeMount)&&Ue(C,_,d)}j(k,d,d.scopeId,x,_)}W&&ut(d,null,_,"beforeMount");const q=(!y||y&&!y.pendingBranch)&&B&&!B.persisted;q&&B.beforeEnter(k),n(k,h,v),((C=O&&O.onVnodeMounted)||q||W)&&be(()=>{C&&Ue(C,_,d),q&&B.enter(k),W&&ut(d,null,_,"mounted")},y)},j=(d,h,v,_,y)=>{if(v&&g(d,v),_)for(let P=0;P<_.length;P++)g(d,_[P]);if(y){let P=y.subTree;if(h===P){const x=y.vnode;j(d,x,x.scopeId,x.slotScopeIds,y.parent)}}},X=(d,h,v,_,y,P,x,S,k=0)=>{for(let C=k;C<d.length;C++){const I=d[C]=S?ot(d[C]):we(d[C]);R(null,I,h,v,_,y,P,x,S)}},D=(d,h,v,_,y,P,x)=>{const S=h.el=d.el;let{patchFlag:k,dynamicChildren:C,dirs:I}=h;k|=d.patchFlag&16;const O=d.props||Y,A=h.props||Y;let B;v&&pt(v,!1),(B=A.onVnodeBeforeUpdate)&&Ue(B,v,h,d),I&&ut(h,d,v,"beforeUpdate"),v&&pt(v,!0);const H=y&&h.type!=="foreignObject";if(C?ne(d.dynamicChildren,C,S,v,_,H,P):x||Ee(d,h,S,null,v,_,H,P,!1),k>0){if(k&16)ie(S,h,O,A,v,_,y);else if(k&2&&O.class!==A.class&&o(S,"class",null,A.class,y),k&4&&o(S,"style",O.style,A.style,y),k&8){const W=h.dynamicProps;for(let q=0;q<W.length;q++){const Q=W[q],Ae=O[Q],Tt=A[Q];(Tt!==Ae||Q==="value")&&o(S,Q,Ae,Tt,y,d.children,v,_,Ie)}}k&1&&d.children!==h.children&&f(S,h.children)}else!x&&C==null&&ie(S,h,O,A,v,_,y);((B=A.onVnodeUpdated)||I)&&be(()=>{B&&Ue(B,v,h,d),I&&ut(h,d,v,"updated")},_)},ne=(d,h,v,_,y,P,x)=>{for(let S=0;S<h.length;S++){const k=d[S],C=h[S],I=k.el&&(k.type===Oe||!gt(k,C)||k.shapeFlag&70)?u(k.el):v;R(k,C,I,null,_,y,P,x,!0)}},ie=(d,h,v,_,y,P,x)=>{if(v!==_){for(const S in _){if(dr(S))continue;const k=_[S],C=v[S];k!==C&&S!=="value"&&o(d,S,C,k,x,h.children,y,P,Ie)}if(v!==Y)for(const S in v)!dr(S)&&!(S in _)&&o(d,S,v[S],null,x,h.children,y,P,Ie);"value"in _&&o(d,"value",v.value,_.value)}},Se=(d,h,v,_,y,P,x,S,k)=>{const C=h.el=d?d.el:l(""),I=h.anchor=d?d.anchor:l("");let{patchFlag:O,dynamicChildren:A,slotScopeIds:B}=h;B&&(S=S?S.concat(B):B),d==null?(n(C,v,_),n(I,v,_),X(h.children,v,I,y,P,x,S,k)):O>0&&O&64&&A&&d.dynamicChildren?(ne(d.dynamicChildren,A,v,y,P,x,S),(h.key!=null||y&&h===y.subTree)&&cs(d,h,!0)):Ee(d,h,v,I,y,P,x,S,k)},_e=(d,h,v,_,y,P,x,S,k)=>{h.slotScopeIds=S,d==null?h.shapeFlag&512?y.ctx.activate(h,v,_,x,k):ft(h,v,_,y,P,x,k):re(d,h,k)},ft=(d,h,v,_,y,P,x)=>{const S=d.component=Vc(d,_,y);if(zr(d)&&(S.ctx.renderer=Ve),qc(S),S.asyncDep){if(y&&y.registerDep(S,V),!d.el){const k=S.subTree=Ze(Qe);M(null,k,h,v)}return}V(S,d,h,v,y,P,x)},re=(d,h,v)=>{const _=h.component=d.component;if(rc(d,h,v))if(_.asyncDep&&!_.asyncResolved){z(_,h,v);return}else _.next=h,qa(_.update),_.update();else h.el=d.el,_.vnode=h},V=(d,h,v,_,y,P,x)=>{const S=()=>{if(d.isMounted){let{next:I,bu:O,u:A,parent:B,vnode:H}=d,W=I,q;pt(d,!1),I?(I.el=H.el,z(d,I,x)):I=H,O&&hr(O),(q=I.props&&I.props.onVnodeBeforeUpdate)&&Ue(q,B,I,H),pt(d,!0);const Q=Xr(d),Ae=d.subTree;d.subTree=Q,R(Ae,Q,u(Ae.el),St(Ae),d,y,P),I.el=Q.el,W===null&&nc(d,Q.el),A&&be(A,y),(q=I.props&&I.props.onVnodeUpdated)&&be(()=>Ue(q,B,I,H),y)}else{let I;const{el:O,props:A}=h,{bm:B,m:H,parent:W}=d,q=mr(h);if(pt(d,!1),B&&hr(B),!q&&(I=A&&A.onVnodeBeforeMount)&&Ue(I,W,h),pt(d,!0),O&&qr){const Q=()=>{d.subTree=Xr(d),qr(O,d.subTree,d,y,null)};q?h.type.__asyncLoader().then(()=>!d.isUnmounted&&Q()):Q()}else{const Q=d.subTree=Xr(d);R(null,Q,v,_,d,y,P),h.el=Q.el}if(H&&be(H,y),!q&&(I=A&&A.onVnodeMounted)){const Q=h;be(()=>Ue(I,W,Q),y)}(h.shapeFlag&256||W&&mr(W.vnode)&&W.vnode.shapeFlag&256)&&d.a&&be(d.a,y),d.isMounted=!0,h=v=_=null}},k=d.effect=new Gn(S,()=>$o(C),d.scope),C=d.update=()=>k.run();C.id=d.uid,pt(d,!0),C()},z=(d,h,v)=>{h.component=d;const _=d.vnode.props;d.vnode=h,d.next=null,Oc(d,h.props,_,v),Ic(d,h.children,v),At(),$r(void 0,d.update),jt()},Ee=(d,h,v,_,y,P,x,S,k=!1)=>{const C=d&&d.children,I=d?d.shapeFlag:0,O=h.children,{patchFlag:A,shapeFlag:B}=h;if(A>0){if(A&128){He(C,O,v,_,y,P,x,S,k);return}else if(A&256){Ct(C,O,v,_,y,P,x,S,k);return}}B&8?(I&16&&Ie(C,y,P),O!==C&&f(v,O)):I&16?B&16?He(C,O,v,_,y,P,x,S,k):Ie(C,y,P,!0):(I&8&&f(v,""),B&16&&X(O,v,_,y,P,x,S,k))},Ct=(d,h,v,_,y,P,x,S,k)=>{d=d||Et,h=h||Et;const C=d.length,I=h.length,O=Math.min(C,I);let A;for(A=0;A<O;A++){const B=h[A]=k?ot(h[A]):we(h[A]);R(d[A],B,v,null,y,P,x,S,k)}C>I?Ie(d,y,P,!0,!1,O):X(h,v,_,y,P,x,S,k,O)},He=(d,h,v,_,y,P,x,S,k)=>{let C=0;const I=h.length;let O=d.length-1,A=I-1;for(;C<=O&&C<=A;){const B=d[C],H=h[C]=k?ot(h[C]):we(h[C]);if(gt(B,H))R(B,H,v,null,y,P,x,S,k);else break;C++}for(;C<=O&&C<=A;){const B=d[O],H=h[A]=k?ot(h[A]):we(h[A]);if(gt(B,H))R(B,H,v,null,y,P,x,S,k);else break;O--,A--}if(C>O){if(C<=A){const B=A+1,H=B<I?h[B].el:_;for(;C<=A;)R(null,h[C]=k?ot(h[C]):we(h[C]),v,H,y,P,x,S,k),C++}}else if(C>A)for(;C<=O;)De(d[C],y,P,!0),C++;else{const B=C,H=C,W=new Map;for(C=H;C<=A;C++){const Te=h[C]=k?ot(h[C]):we(h[C]);Te.key!=null&&W.set(Te.key,C)}let q,Q=0;const Ae=A-H+1;let Tt=!1,li=0;const $t=new Array(Ae);for(C=0;C<Ae;C++)$t[C]=0;for(C=B;C<=O;C++){const Te=d[C];if(Q>=Ae){De(Te,y,P,!0);continue}let Ne;if(Te.key!=null)Ne=W.get(Te.key);else for(q=H;q<=A;q++)if($t[q-H]===0&&gt(Te,h[q])){Ne=q;break}Ne===void 0?De(Te,y,P,!0):($t[Ne-H]=C+1,Ne>=li?li=Ne:Tt=!0,R(Te,h[Ne],v,null,y,P,x,S,k),Q++)}const fi=Tt?Lc($t):Et;for(q=fi.length-1,C=Ae-1;C>=0;C--){const Te=H+C,Ne=h[Te],ui=Te+1<I?h[Te+1].el:_;$t[C]===0?R(null,Ne,v,ui,y,P,x,S,k):Tt&&(q<0||C!==fi[q]?Je(Ne,v,ui,2):q--)}}},Je=(d,h,v,_,y=null)=>{const{el:P,type:x,transition:S,children:k,shapeFlag:C}=d;if(C&6){Je(d.component.subTree,h,v,_);return}if(C&128){d.suspense.move(h,v,_);return}if(C&64){x.move(d,h,v,Ve);return}if(x===Oe){n(P,h,v);for(let O=0;O<k.length;O++)Je(k[O],h,v,_);n(d.anchor,h,v);return}if(x===tn){$(d,h,v);return}if(_!==2&&C&1&&S)if(_===0)S.beforeEnter(P),n(P,h,v),be(()=>S.enter(P),y);else{const{leave:O,delayLeave:A,afterLeave:B}=S,H=()=>n(P,h,v),W=()=>{O(P,()=>{H(),B&&B()})};A?A(P,H,W):W()}else n(P,h,v)},De=(d,h,v,_=!1,y=!1)=>{const{type:P,props:x,ref:S,children:k,dynamicChildren:C,shapeFlag:I,patchFlag:O,dirs:A}=d;if(S!=null&&Cn(S,null,v,d,!0),I&256){h.ctx.deactivate(d);return}const B=I&1&&A,H=!mr(d);let W;if(H&&(W=x&&x.onVnodeBeforeUnmount)&&Ue(W,h,d),I&6)rt(d.component,v,_);else{if(I&128){d.suspense.unmount(v,_);return}B&&ut(d,null,h,"beforeUnmount"),I&64?d.type.remove(d,h,v,y,Ve,_):C&&(P!==Oe||O>0&&O&64)?Ie(C,h,v,!1,!0):(P===Oe&&O&384||!y&&I&16)&&Ie(k,h,v),_&&Ke(d)}(H&&(W=x&&x.onVnodeUnmounted)||B)&&be(()=>{W&&Ue(W,h,d),B&&ut(d,null,h,"unmounted")},v)},Ke=d=>{const{type:h,el:v,anchor:_,transition:y}=d;if(h===Oe){Bt(v,_);return}if(h===tn){U(d);return}const P=()=>{i(v),y&&!y.persisted&&y.afterLeave&&y.afterLeave()};if(d.shapeFlag&1&&y&&!y.persisted){const{leave:x,delayLeave:S}=y,k=()=>x(v,P);S?S(d.el,P,k):k()}else P()},Bt=(d,h)=>{let v;for(;d!==h;)v=p(d),i(d),d=v;i(h)},rt=(d,h,v)=>{const{bum:_,scope:y,update:P,subTree:x,um:S}=d;_&&hr(_),y.stop(),P&&(P.active=!1,De(x,d,h,v)),S&&be(S,h),be(()=>{d.isUnmounted=!0},h),h&&h.pendingBranch&&!h.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===h.pendingId&&(h.deps--,h.deps===0&&h.resolve())},Ie=(d,h,v,_=!1,y=!1,P=0)=>{for(let x=P;x<d.length;x++)De(d[x],h,v,_,y)},St=d=>d.shapeFlag&6?St(d.component.subTree):d.shapeFlag&128?d.suspense.next():p(d.anchor||d.el),oe=(d,h,v)=>{d==null?h._vnode&&De(h._vnode,null,null,!0):R(h._vnode||null,d,h,null,null,null,v),zo(),h._vnode=d},Ve={p:R,um:De,m:Je,r:Ke,mt:ft,mc:X,pc:Ee,pbc:ne,n:St,o:e};let Lt,qr;return t&&([Lt,qr]=t(Ve)),{render:oe,hydrate:Lt,createApp:jc(oe,Lt)}}function pt({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function cs(e,t,r=!1){const n=e.children,i=t.children;if(L(n)&&L(i))for(let o=0;o<n.length;o++){const s=n[o];let l=i[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[o]=ot(i[o]),l.el=s.el),r||cs(s,l))}}function Lc(e){const t=e.slice(),r=[0];let n,i,o,s,l;const a=e.length;for(n=0;n<a;n++){const c=e[n];if(c!==0){if(i=r[r.length-1],e[i]<c){t[n]=i,r.push(n);continue}for(o=0,s=r.length-1;o<s;)l=o+s>>1,e[r[l]]<c?o=l+1:s=l;c<e[r[o]]&&(o>0&&(t[n]=r[o-1]),r[o]=n)}}for(o=r.length,s=r[o-1];o-- >0;)r[o]=s,s=t[s];return r}const $c=e=>e.__isTeleport,Oe=Symbol(void 0),Zn=Symbol(void 0),Qe=Symbol(void 0),tn=Symbol(void 0),qt=[];let Le=null;function ei(e=!1){qt.push(Le=e?null:[])}function Nc(){qt.pop(),Le=qt[qt.length-1]||null}let tr=1;function Oi(e){tr+=e}function Uc(e){return e.dynamicChildren=tr>0?Le||Et:null,Nc(),tr>0&&Le&&Le.push(e),e}function ti(e,t,r,n,i,o){return Uc(he(e,t,r,n,i,o,!0))}function zc(e){return e?e.__v_isVNode===!0:!1}function gt(e,t){return e.type===t.type&&e.key===t.key}const Gr="__vInternal",ls=({key:e})=>e!=null?e:null,gr=({ref:e,ref_key:t,ref_for:r})=>e!=null?ce(e)||de(e)||N(e)?{i:Be,r:e,k:t,f:!!r}:e:null;function he(e,t=null,r=null,n=0,i=null,o=e===Oe?0:1,s=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ls(t),ref:t&&gr(t),scopeId:Ur,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null};return l?(ri(a,r),o&128&&e.normalize(a)):r&&(a.shapeFlag|=ce(r)?8:16),tr>0&&!s&&Le&&(a.patchFlag>0||o&6)&&a.patchFlag!==32&&Le.push(a),a}const Ze=wc;function wc(e,t=null,r=null,n=0,i=null,o=!1){if((!e||e===Cc)&&(e=Qe),zc(e)){const l=lt(e,t,!0);return r&&ri(l,r),tr>0&&!o&&Le&&(l.shapeFlag&6?Le[Le.indexOf(e)]=l:Le.push(l)),l.patchFlag|=-2,l}if(Zc(e)&&(e=e.__vccOpts),t){t=Gc(t);let{class:l,style:a}=t;l&&!ce(l)&&(t.class=Ln(l)),le(a)&&(Io(a)&&!L(a)&&(a=me({},a)),t.style=Bn(a))}const s=ce(e)?1:ic(e)?128:$c(e)?64:le(e)?4:N(e)?2:0;return he(e,t,r,n,i,s,o,!0)}function Gc(e){return e?Io(e)||Gr in e?me({},e):e:null}function lt(e,t,r=!1){const{props:n,ref:i,patchFlag:o,children:s}=e,l=t?Hc(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&ls(l),ref:t&&t.ref?r&&i?L(i)?i.concat(gr(t)):[i,gr(t)]:gr(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Oe?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&lt(e.ssContent),ssFallback:e.ssFallback&&lt(e.ssFallback),el:e.el,anchor:e.anchor}}function fs(e=" ",t=0){return Ze(Zn,null,e,t)}function we(e){return e==null||typeof e=="boolean"?Ze(Qe):L(e)?Ze(Oe,null,e.slice()):typeof e=="object"?ot(e):Ze(Zn,null,String(e))}function ot(e){return e.el===null||e.memo?e:lt(e)}function ri(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(L(t))r=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),ri(e,i()),i._c&&(i._d=!0));return}else{r=32;const i=t._;!i&&!(Gr in t)?t._ctx=Be:i===3&&Be&&(Be.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else N(t)?(t={default:t,_ctx:Be},r=32):(t=String(t),n&64?(r=16,t=[fs(t)]):r=8);e.children=t,e.shapeFlag|=r}function Hc(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=Ln([t.class,n.class]));else if(i==="style")t.style=Bn([t.style,n.style]);else if(Ir(i)){const o=t[i],s=n[i];s&&o!==s&&!(L(o)&&o.includes(s))&&(t[i]=o?[].concat(o,s):s)}else i!==""&&(t[i]=n[i])}return t}function Ue(e,t,r,n=null){Me(e,t,7,[r,n])}const Jc=as();let Kc=0;function Vc(e,t,r){const n=e.type,i=(t?t.appContext:e.appContext)||Jc,o={uid:Kc++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new da(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ns(n,i),emitsOptions:Go(n,i),emit:null,emitted:null,propsDefaults:Y,inheritAttrs:n.inheritAttrs,ctx:Y,data:Y,props:Y,attrs:Y,slots:Y,refs:Y,setupState:Y,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Qa.bind(null,o),e.ce&&e.ce(o),o}let ae=null;const Wc=()=>ae||Be,Dt=e=>{ae=e,e.scope.on()},bt=()=>{ae&&ae.scope.off(),ae=null};function us(e){return e.vnode.shapeFlag&4}let rr=!1;function qc(e,t=!1){rr=t;const{props:r,children:n}=e.vnode,i=us(e);Rc(e,r,i,t),Dc(e,n);const o=i?Yc(e,t):void 0;return rr=!1,o}function Yc(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=Ao(new Proxy(e.ctx,Sc));const{setup:n}=r;if(n){const i=e.setupContext=n.length>1?Qc(e):null;Dt(e),At();const o=at(n,e,0,[e.props,i]);if(jt(),bt(),vo(o)){if(o.then(bt,bt),t)return o.then(s=>{Mi(e,s,t)}).catch(s=>{Lr(s,e,0)});e.asyncDep=o}else Mi(e,o,t)}else ps(e,t)}function Mi(e,t,r){N(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:le(t)&&(e.setupState=Bo(t)),ps(e,r)}let Di;function ps(e,t,r){const n=e.type;if(!e.render){if(!t&&Di&&!n.render){const i=n.template;if(i){const{isCustomElement:o,compilerOptions:s}=e.appContext.config,{delimiters:l,compilerOptions:a}=n,c=me(me({isCustomElement:o,delimiters:l},s),a);n.render=Di(i,c)}}e.render=n.render||$e}Dt(e),At(),Tc(e),jt(),bt()}function Xc(e){return new Proxy(e.attrs,{get(t,r){return xe(e,"get","$attrs"),t[r]}})}function Qc(e){const t=n=>{e.exposed=n||{}};let r;return{get attrs(){return r||(r=Xc(e))},slots:e.slots,emit:e.emit,expose:t}}function Hr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Bo(Ao(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in kr)return kr[r](e)}}))}function Zc(e){return N(e)&&"__vccOpts"in e}const el=(e,t)=>Ja(e,t,rr),tl="3.2.37",rl="http://www.w3.org/2000/svg",vt=typeof document<"u"?document:null,Ii=vt&&vt.createElement("template"),nl={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i=t?vt.createElementNS(rl,e):vt.createElement(e,r?{is:r}:void 0);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>vt.createTextNode(e),createComment:e=>vt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>vt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,r,n,i,o){const s=r?r.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),!(i===o||!(i=i.nextSibling)););else{Ii.innerHTML=n?`<svg>${e}</svg>`:e;const l=Ii.content;if(n){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,r)}return[s?s.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function il(e,t,r){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function ol(e,t,r){const n=e.style,i=ce(r);if(r&&!i){for(const o in r)Sn(n,o,r[o]);if(t&&!ce(t))for(const o in t)r[o]==null&&Sn(n,o,"")}else{const o=n.display;i?t!==r&&(n.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=o)}}const Ai=/\s*!important$/;function Sn(e,t,r){if(L(r))r.forEach(n=>Sn(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=sl(e,t);Ai.test(r)?e.setProperty(It(n),r.replace(Ai,""),"important"):e[n]=r}}const ji=["Webkit","Moz","ms"],rn={};function sl(e,t){const r=rn[t];if(r)return r;let n=Mt(t);if(n!=="filter"&&n in e)return rn[t]=n;n=bo(n);for(let i=0;i<ji.length;i++){const o=ji[i]+n;if(o in e)return rn[t]=o}return t}const Fi="http://www.w3.org/1999/xlink";function al(e,t,r,n,i){if(n&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(Fi,t.slice(6,t.length)):e.setAttributeNS(Fi,t,r);else{const o=ta(t);r==null||o&&!ho(r)?e.removeAttribute(t):e.setAttribute(t,o?"":r)}}function cl(e,t,r,n,i,o,s){if(t==="innerHTML"||t==="textContent"){n&&s(n,i,o),e[t]=r==null?"":r;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=r;const a=r==null?"":r;(e.value!==a||e.tagName==="OPTION")&&(e.value=a),r==null&&e.removeAttribute(t);return}let l=!1;if(r===""||r==null){const a=typeof e[t];a==="boolean"?r=ho(r):r==null&&a==="string"?(r="",l=!0):a==="number"&&(r=0,l=!0)}try{e[t]=r}catch{}l&&e.removeAttribute(t)}const[ds,ll]=(()=>{let e=Date.now,t=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const r=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(r&&Number(r[1])<=53)}return[e,t]})();let Tn=0;const fl=Promise.resolve(),ul=()=>{Tn=0},pl=()=>Tn||(fl.then(ul),Tn=ds());function xt(e,t,r,n){e.addEventListener(t,r,n)}function dl(e,t,r,n){e.removeEventListener(t,r,n)}function hl(e,t,r,n,i=null){const o=e._vei||(e._vei={}),s=o[t];if(n&&s)s.value=n;else{const[l,a]=ml(t);if(n){const c=o[t]=gl(n,i);xt(e,l,c,a)}else s&&(dl(e,l,s,a),o[t]=void 0)}}const Bi=/(?:Once|Passive|Capture)$/;function ml(e){let t;if(Bi.test(e)){t={};let r;for(;r=e.match(Bi);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[It(e.slice(2)),t]}function gl(e,t){const r=n=>{const i=n.timeStamp||ds();(ll||i>=r.attached-1)&&Me(vl(n,r.value),t,5,[n])};return r.value=e,r.attached=pl(),r}function vl(e,t){if(L(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const Li=/^on[a-z]/,yl=(e,t,r,n,i=!1,o,s,l,a)=>{t==="class"?il(e,n,i):t==="style"?ol(e,r,n):Ir(t)?$n(t)||hl(e,t,r,n,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):_l(e,t,n,i))?cl(e,t,n,o,s,l,a):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),al(e,t,n,i))};function _l(e,t,r,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&Li.test(t)&&N(r)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Li.test(t)&&ce(r)?!1:t in e}const bl={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};fc.props;const $i=e=>{const t=e.props["onUpdate:modelValue"]||!1;return L(t)?r=>hr(t,r):t};function Cl(e){e.target.composing=!0}function Ni(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Sl={created(e,{modifiers:{lazy:t,trim:r,number:n}},i){e._assign=$i(i);const o=n||i.props&&i.props.type==="number";xt(e,t?"change":"input",s=>{if(s.target.composing)return;let l=e.value;r&&(l=l.trim()),o&&(l=an(l)),e._assign(l)}),r&&xt(e,"change",()=>{e.value=e.value.trim()}),t||(xt(e,"compositionstart",Cl),xt(e,"compositionend",Ni),xt(e,"change",Ni))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:r,trim:n,number:i}},o){if(e._assign=$i(o),e.composing||document.activeElement===e&&e.type!=="range"&&(r||n&&e.value.trim()===t||(i||e.type==="number")&&an(e.value)===t))return;const s=t==null?"":t;e.value!==s&&(e.value=s)}},Pn={beforeMount(e,{value:t},{transition:r}){e._vod=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):Nt(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),Nt(e,!0),n.enter(e)):n.leave(e,()=>{Nt(e,!1)}):Nt(e,t))},beforeUnmount(e,{value:t}){Nt(e,t)}};function Nt(e,t){e.style.display=t?e._vod:"none"}const Tl=me({patchProp:yl},nl);let Ui;function Pl(){return Ui||(Ui=Fc(Tl))}const kl=(...e)=>{const t=Pl().createApp(...e),{mount:r}=t;return t.mount=n=>{const i=xl(n);if(!i)return;const o=t._component;!N(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=r(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t};function xl(e){return ce(e)?document.querySelector(e):e}var ni={exports:{}};(function(e){var t={};t.useBlobBuilder=function(){try{return new Blob([]),!1}catch{return!0}}(),t.useArrayBufferView=!t.useBlobBuilder&&function(){try{return new Blob([new Uint8Array([])]).size===0}catch{return!0}}(),e.exports.binaryFeatures=t;var r=e.exports.BlobBuilder;typeof window<"u"&&(r=e.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder);function n(){this._pieces=[],this._parts=[]}n.prototype.append=function(i){typeof i=="number"?this._pieces.push(i):(this.flush(),this._parts.push(i))},n.prototype.flush=function(){if(this._pieces.length>0){var i=new Uint8Array(this._pieces);t.useArrayBufferView||(i=i.buffer),this._parts.push(i),this._pieces=[]}},n.prototype.getBuffer=function(){if(this.flush(),t.useBlobBuilder){for(var i=new r,o=0,s=this._parts.length;o<s;o++)i.append(this._parts[o]);return i.getBlob()}else return new Blob(this._parts)},e.exports.BufferBuilder=n})(ni);var El=ni.exports.BufferBuilder,zi=ni.exports.binaryFeatures,Rl={unpack:function(e){var t=new fe(e);return t.unpack()},pack:function(e){var t=new ue;t.pack(e);var r=t.getBuffer();return r}},wi=Rl;function fe(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}fe.prototype.unpack=function(){var e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;var t;if((t=e^160)<=15)return this.unpack_raw(t);if((t=e^176)<=15)return this.unpack_string(t);if((t=e^144)<=15)return this.unpack_array(t);if((t=e^128)<=15)return this.unpack_map(t);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return t=this.unpack_uint16(),this.unpack_string(t);case 217:return t=this.unpack_uint32(),this.unpack_string(t);case 218:return t=this.unpack_uint16(),this.unpack_raw(t);case 219:return t=this.unpack_uint32(),this.unpack_raw(t);case 220:return t=this.unpack_uint16(),this.unpack_array(t);case 221:return t=this.unpack_uint32(),this.unpack_array(t);case 222:return t=this.unpack_uint16(),this.unpack_map(t);case 223:return t=this.unpack_uint32(),this.unpack_map(t)}};fe.prototype.unpack_uint8=function(){var e=this.dataView[this.index]&255;return this.index++,e};fe.prototype.unpack_uint16=function(){var e=this.read(2),t=(e[0]&255)*256+(e[1]&255);return this.index+=2,t};fe.prototype.unpack_uint32=function(){var e=this.read(4),t=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,t};fe.prototype.unpack_uint64=function(){var e=this.read(8),t=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,t};fe.prototype.unpack_int8=function(){var e=this.unpack_uint8();return e<128?e:e-(1<<8)};fe.prototype.unpack_int16=function(){var e=this.unpack_uint16();return e<32768?e:e-(1<<16)};fe.prototype.unpack_int32=function(){var e=this.unpack_uint32();return e<Math.pow(2,31)?e:e-Math.pow(2,32)};fe.prototype.unpack_int64=function(){var e=this.unpack_uint64();return e<Math.pow(2,63)?e:e-Math.pow(2,64)};fe.prototype.unpack_raw=function(e){if(this.length<this.index+e)throw new Error("BinaryPackFailure: index is out of range "+this.index+" "+e+" "+this.length);var t=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,t};fe.prototype.unpack_string=function(e){for(var t=this.read(e),r=0,n="",i,o;r<e;)i=t[r],i<128?(n+=String.fromCharCode(i),r++):(i^192)<32?(o=(i^192)<<6|t[r+1]&63,n+=String.fromCharCode(o),r+=2):(o=(i&15)<<12|(t[r+1]&63)<<6|t[r+2]&63,n+=String.fromCharCode(o),r+=3);return this.index+=e,n};fe.prototype.unpack_array=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=this.unpack();return t};fe.prototype.unpack_map=function(e){for(var t={},r=0;r<e;r++){var n=this.unpack(),i=this.unpack();t[n]=i}return t};fe.prototype.unpack_float=function(){var e=this.unpack_uint32(),t=e>>31,r=(e>>23&255)-127,n=e&8388607|8388608;return(t===0?1:-1)*n*Math.pow(2,r-23)};fe.prototype.unpack_double=function(){var e=this.unpack_uint32(),t=this.unpack_uint32(),r=e>>31,n=(e>>20&2047)-1023,i=e&1048575|1048576,o=i*Math.pow(2,n-20)+t*Math.pow(2,n-52);return(r===0?1:-1)*o};fe.prototype.read=function(e){var t=this.index;if(t+e<=this.length)return this.dataView.subarray(t,t+e);throw new Error("BinaryPackFailure: read index out of range")};function ue(){this.bufferBuilder=new El}ue.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()};ue.prototype.pack=function(e){var t=typeof e;if(t==="string")this.pack_string(e);else if(t==="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(t==="boolean")e===!0?this.bufferBuilder.append(195):e===!1&&this.bufferBuilder.append(194);else if(t==="undefined")this.bufferBuilder.append(192);else if(t==="object")if(e===null)this.bufferBuilder.append(192);else{var r=e.constructor;if(r==Array)this.pack_array(e);else if(r==Blob||r==File||e instanceof Blob||e instanceof File)this.pack_bin(e);else if(r==ArrayBuffer)zi.useArrayBufferView?this.pack_bin(new Uint8Array(e)):this.pack_bin(e);else if("BYTES_PER_ELEMENT"in e)zi.useArrayBufferView?this.pack_bin(new Uint8Array(e.buffer)):this.pack_bin(e.buffer);else if(r==Object||r.toString().startsWith("class"))this.pack_object(e);else if(r==Date)this.pack_string(e.toString());else if(typeof e.toBinaryPack=="function")this.bufferBuilder.append(e.toBinaryPack());else throw new Error('Type "'+r.toString()+'" not yet supported')}else throw new Error('Type "'+t+'" not yet supported');this.bufferBuilder.flush()};ue.prototype.pack_bin=function(e){var t=e.length||e.byteLength||e.size;if(t<=15)this.pack_uint8(160+t);else if(t<=65535)this.bufferBuilder.append(218),this.pack_uint16(t);else if(t<=4294967295)this.bufferBuilder.append(219),this.pack_uint32(t);else throw new Error("Invalid length");this.bufferBuilder.append(e)};ue.prototype.pack_string=function(e){var t=Ml(e);if(t<=15)this.pack_uint8(176+t);else if(t<=65535)this.bufferBuilder.append(216),this.pack_uint16(t);else if(t<=4294967295)this.bufferBuilder.append(217),this.pack_uint32(t);else throw new Error("Invalid length");this.bufferBuilder.append(e)};ue.prototype.pack_array=function(e){var t=e.length;if(t<=15)this.pack_uint8(144+t);else if(t<=65535)this.bufferBuilder.append(220),this.pack_uint16(t);else if(t<=4294967295)this.bufferBuilder.append(221),this.pack_uint32(t);else throw new Error("Invalid length");for(var r=0;r<t;r++)this.pack(e[r])};ue.prototype.pack_integer=function(e){if(e>=-32&&e<=127)this.bufferBuilder.append(e&255);else if(e>=0&&e<=255)this.bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this.bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this.bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this.bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this.bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this.bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this.bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")};ue.prototype.pack_double=function(e){var t=0;e<0&&(t=1,e=-e);var r=Math.floor(Math.log(e)/Math.LN2),n=e/Math.pow(2,r)-1,i=Math.floor(n*Math.pow(2,52)),o=Math.pow(2,32),s=t<<31|r+1023<<20|i/o&1048575,l=i%o;this.bufferBuilder.append(203),this.pack_int32(s),this.pack_int32(l)};ue.prototype.pack_object=function(e){var t=Object.keys(e),r=t.length;if(r<=15)this.pack_uint8(128+r);else if(r<=65535)this.bufferBuilder.append(222),this.pack_uint16(r);else if(r<=4294967295)this.bufferBuilder.append(223),this.pack_uint32(r);else throw new Error("Invalid length");for(var n in e)e.hasOwnProperty(n)&&(this.pack(n),this.pack(e[n]))};ue.prototype.pack_uint8=function(e){this.bufferBuilder.append(e)};ue.prototype.pack_uint16=function(e){this.bufferBuilder.append(e>>8),this.bufferBuilder.append(e&255)};ue.prototype.pack_uint32=function(e){var t=e&4294967295;this.bufferBuilder.append((t&4278190080)>>>24),this.bufferBuilder.append((t&16711680)>>>16),this.bufferBuilder.append((t&65280)>>>8),this.bufferBuilder.append(t&255)};ue.prototype.pack_uint64=function(e){var t=e/Math.pow(2,32),r=e%Math.pow(2,32);this.bufferBuilder.append((t&4278190080)>>>24),this.bufferBuilder.append((t&16711680)>>>16),this.bufferBuilder.append((t&65280)>>>8),this.bufferBuilder.append(t&255),this.bufferBuilder.append((r&4278190080)>>>24),this.bufferBuilder.append((r&16711680)>>>16),this.bufferBuilder.append((r&65280)>>>8),this.bufferBuilder.append(r&255)};ue.prototype.pack_int8=function(e){this.bufferBuilder.append(e&255)};ue.prototype.pack_int16=function(e){this.bufferBuilder.append((e&65280)>>8),this.bufferBuilder.append(e&255)};ue.prototype.pack_int32=function(e){this.bufferBuilder.append(e>>>24&255),this.bufferBuilder.append((e&16711680)>>>16),this.bufferBuilder.append((e&65280)>>>8),this.bufferBuilder.append(e&255)};ue.prototype.pack_int64=function(e){var t=Math.floor(e/Math.pow(2,32)),r=e%Math.pow(2,32);this.bufferBuilder.append((t&4278190080)>>>24),this.bufferBuilder.append((t&16711680)>>>16),this.bufferBuilder.append((t&65280)>>>8),this.bufferBuilder.append(t&255),this.bufferBuilder.append((r&4278190080)>>>24),this.bufferBuilder.append((r&16711680)>>>16),this.bufferBuilder.append((r&65280)>>>8),this.bufferBuilder.append(r&255)};function Ol(e){var t=e.charCodeAt(0);return t<=2047?"00":t<=65535?"000":t<=2097151?"0000":t<=67108863?"00000":"000000"}function Ml(e){return e.length>600?new Blob([e]).size:e.replace(/[^\u0000-\u007F]/g,Ol).length}let hs=!0,ms=!0;function Ht(e,t,r){const n=e.match(t);return n&&n.length>=r&&parseInt(n[r],10)}function Ft(e,t,r){if(!e.RTCPeerConnection)return;const n=e.RTCPeerConnection.prototype,i=n.addEventListener;n.addEventListener=function(s,l){if(s!==t)return i.apply(this,arguments);const a=c=>{const f=r(c);f&&(l.handleEvent?l.handleEvent(f):l(f))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(l,a),i.apply(this,[s,a])};const o=n.removeEventListener;n.removeEventListener=function(s,l){if(s!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(l))return o.apply(this,arguments);const a=this._eventMap[t].get(l);return this._eventMap[t].delete(l),this._eventMap[t].size===0&&delete this._eventMap[t],Object.keys(this._eventMap).length===0&&delete this._eventMap,o.apply(this,[s,a])},Object.defineProperty(n,"on"+t,{get(){return this["_on"+t]},set(s){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),s&&this.addEventListener(t,this["_on"+t]=s)},enumerable:!0,configurable:!0})}function Dl(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(hs=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function Il(e){return typeof e!="boolean"?new Error("Argument type: "+typeof e+". Please use a boolean."):(ms=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function ii(){if(typeof window=="object"){if(hs)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Jr(e,t){!ms||console.warn(e+" is deprecated, please use "+t+" instead.")}function Al(e){const t={browser:null,version:null};if(typeof e>"u"||!e.navigator)return t.browser="Not a browser.",t;const{navigator:r}=e;if(r.mozGetUserMedia)t.browser="firefox",t.version=Ht(r.userAgent,/Firefox\/(\d+)\./,1);else if(r.webkitGetUserMedia||e.isSecureContext===!1&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)t.browser="chrome",t.version=Ht(r.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(r.mediaDevices&&r.userAgent.match(/Edge\/(\d+).(\d+)$/))t.browser="edge",t.version=Ht(r.userAgent,/Edge\/(\d+).(\d+)$/,2);else if(e.RTCPeerConnection&&r.userAgent.match(/AppleWebKit\/(\d+)\./))t.browser="safari",t.version=Ht(r.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype;else return t.browser="Not a supported browser.",t;return t}function Gi(e){return Object.prototype.toString.call(e)==="[object Object]"}function gs(e){return Gi(e)?Object.keys(e).reduce(function(t,r){const n=Gi(e[r]),i=n?gs(e[r]):e[r],o=n&&!Object.keys(i).length;return i===void 0||o?t:Object.assign(t,{[r]:i})},{}):e}function kn(e,t,r){!t||r.has(t.id)||(r.set(t.id,t),Object.keys(t).forEach(n=>{n.endsWith("Id")?kn(e,e.get(t[n]),r):n.endsWith("Ids")&&t[n].forEach(i=>{kn(e,e.get(i),r)})}))}function Hi(e,t,r){const n=r?"outbound-rtp":"inbound-rtp",i=new Map;if(t===null)return i;const o=[];return e.forEach(s=>{s.type==="track"&&s.trackIdentifier===t.id&&o.push(s)}),o.forEach(s=>{e.forEach(l=>{l.type===n&&l.trackId===s.id&&kn(e,l,i)})}),i}const Ji=ii;function vs(e,t){const r=e&&e.navigator;if(!r.mediaDevices)return;const n=function(l){if(typeof l!="object"||l.mandatory||l.optional)return l;const a={};return Object.keys(l).forEach(c=>{if(c==="require"||c==="advanced"||c==="mediaSource")return;const f=typeof l[c]=="object"?l[c]:{ideal:l[c]};f.exact!==void 0&&typeof f.exact=="number"&&(f.min=f.max=f.exact);const u=function(p,g){return p?p+g.charAt(0).toUpperCase()+g.slice(1):g==="deviceId"?"sourceId":g};if(f.ideal!==void 0){a.optional=a.optional||[];let p={};typeof f.ideal=="number"?(p[u("min",c)]=f.ideal,a.optional.push(p),p={},p[u("max",c)]=f.ideal,a.optional.push(p)):(p[u("",c)]=f.ideal,a.optional.push(p))}f.exact!==void 0&&typeof f.exact!="number"?(a.mandatory=a.mandatory||{},a.mandatory[u("",c)]=f.exact):["min","max"].forEach(p=>{f[p]!==void 0&&(a.mandatory=a.mandatory||{},a.mandatory[u(p,c)]=f[p])})}),l.advanced&&(a.optional=(a.optional||[]).concat(l.advanced)),a},i=function(l,a){if(t.version>=61)return a(l);if(l=JSON.parse(JSON.stringify(l)),l&&typeof l.audio=="object"){const c=function(f,u,p){u in f&&!(p in f)&&(f[p]=f[u],delete f[u])};l=JSON.parse(JSON.stringify(l)),c(l.audio,"autoGainControl","googAutoGainControl"),c(l.audio,"noiseSuppression","googNoiseSuppression"),l.audio=n(l.audio)}if(l&&typeof l.video=="object"){let c=l.video.facingMode;c=c&&(typeof c=="object"?c:{ideal:c});const f=t.version<66;if(c&&(c.exact==="user"||c.exact==="environment"||c.ideal==="user"||c.ideal==="environment")&&!(r.mediaDevices.getSupportedConstraints&&r.mediaDevices.getSupportedConstraints().facingMode&&!f)){delete l.video.facingMode;let u;if(c.exact==="environment"||c.ideal==="environment"?u=["back","rear"]:(c.exact==="user"||c.ideal==="user")&&(u=["front"]),u)return r.mediaDevices.enumerateDevices().then(p=>{p=p.filter(m=>m.kind==="videoinput");let g=p.find(m=>u.some(b=>m.label.toLowerCase().includes(b)));return!g&&p.length&&u.includes("back")&&(g=p[p.length-1]),g&&(l.video.deviceId=c.exact?{exact:g.deviceId}:{ideal:g.deviceId}),l.video=n(l.video),Ji("chrome: "+JSON.stringify(l)),a(l)})}l.video=n(l.video)}return Ji("chrome: "+JSON.stringify(l)),a(l)},o=function(l){return t.version>=64?l:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[l.name]||l.name,message:l.message,constraint:l.constraint||l.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},s=function(l,a,c){i(l,f=>{r.webkitGetUserMedia(f,a,u=>{c&&c(o(u))})})};if(r.getUserMedia=s.bind(r),r.mediaDevices.getUserMedia){const l=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(a){return i(a,c=>l(c).then(f=>{if(c.audio&&!f.getAudioTracks().length||c.video&&!f.getVideoTracks().length)throw f.getTracks().forEach(u=>{u.stop()}),new DOMException("","NotFoundError");return f},f=>Promise.reject(o(f))))}}}function jl(e,t){if(!(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices)&&!!e.navigator.mediaDevices){if(typeof t!="function"){console.error("shimGetDisplayMedia: getSourceId argument is not a function");return}e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then(i=>{const o=n.video&&n.video.width,s=n.video&&n.video.height,l=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:i,maxFrameRate:l||3}},o&&(n.video.mandatory.maxWidth=o),s&&(n.video.mandatory.maxHeight=s),e.navigator.mediaDevices.getUserMedia(n)})}}}function ys(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function _s(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(r){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=r)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=n=>{n.stream.addEventListener("addtrack",i=>{let o;e.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(l=>l.track&&l.track.id===i.track.id):o={track:i.track};const s=new Event("track");s.track=i.track,s.receiver=o,s.transceiver={receiver:o},s.streams=[n.stream],this.dispatchEvent(s)}),n.stream.getTracks().forEach(i=>{let o;e.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(l=>l.track&&l.track.id===i.id):o={track:i};const s=new Event("track");s.track=i,s.receiver=o,s.transceiver={receiver:o},s.streams=[n.stream],this.dispatchEvent(s)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else Ft(e,"track",t=>(t.transceiver||Object.defineProperty(t,"transceiver",{value:{receiver:t.receiver}}),t))}function bs(e){if(typeof e=="object"&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(i,o){return{track:o,get dtmf(){return this._dtmf===void 0&&(o.kind==="audio"?this._dtmf=i.createDTMFSender(o):this._dtmf=null),this._dtmf},_pc:i}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(l,a){let c=i.apply(this,arguments);return c||(c=t(this,l),this._senders.push(c)),c};const o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(l){o.apply(this,arguments);const a=this._senders.indexOf(l);a!==-1&&this._senders.splice(a,1)}}const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(o){this._senders=this._senders||[],r.apply(this,[o]),o.getTracks().forEach(s=>{this._senders.push(t(this,s))})};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(o){this._senders=this._senders||[],n.apply(this,[o]),o.getTracks().forEach(s=>{const l=this._senders.find(a=>a.track===s);l&&this._senders.splice(this._senders.indexOf(l),1)})}}else if(typeof e=="object"&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const n=t.apply(this,[]);return n.forEach(i=>i._pc=this),n},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function Cs(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[n,i,o]=arguments;if(arguments.length>0&&typeof n=="function")return t.apply(this,arguments);if(t.length===0&&(arguments.length===0||typeof n!="function"))return t.apply(this,[]);const s=function(a){const c={};return a.result().forEach(u=>{const p={id:u.id,timestamp:u.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[u.type]||u.type};u.names().forEach(g=>{p[g]=u.stat(g)}),c[p.id]=p}),c},l=function(a){return new Map(Object.keys(a).map(c=>[c,a[c]]))};if(arguments.length>=2){const a=function(c){i(l(s(c)))};return t.apply(this,[a,n])}return new Promise((a,c)=>{t.apply(this,[function(f){a(l(s(f)))},c])}).then(i,o)}}function Ss(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const r=e.RTCPeerConnection.prototype.getSenders;r&&(e.RTCPeerConnection.prototype.getSenders=function(){const o=r.apply(this,[]);return o.forEach(s=>s._pc=this),o});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const o=n.apply(this,arguments);return o._pc=this,o}),e.RTCRtpSender.prototype.getStats=function(){const o=this;return this._pc.getStats().then(s=>Hi(s,o.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const r=e.RTCPeerConnection.prototype.getReceivers;r&&(e.RTCPeerConnection.prototype.getReceivers=function(){const i=r.apply(this,[]);return i.forEach(o=>o._pc=this),i}),Ft(e,"track",n=>(n.receiver._pc=n.srcElement,n)),e.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(o=>Hi(o,i.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const n=arguments[0];let i,o,s;return this.getSenders().forEach(l=>{l.track===n&&(i?s=!0:i=l)}),this.getReceivers().forEach(l=>(l.track===n&&(o?s=!0:o=l),l.track===n)),s||i&&o?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():o?o.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function Ts(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(s=>this._shimmedLocalStreams[s][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(s,l){if(!l)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const a=t.apply(this,arguments);return this._shimmedLocalStreams[l.id]?this._shimmedLocalStreams[l.id].indexOf(a)===-1&&this._shimmedLocalStreams[l.id].push(a):this._shimmedLocalStreams[l.id]=[l,a],a};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(s){this._shimmedLocalStreams=this._shimmedLocalStreams||{},s.getTracks().forEach(c=>{if(this.getSenders().find(u=>u.track===c))throw new DOMException("Track already exists.","InvalidAccessError")});const l=this.getSenders();r.apply(this,arguments);const a=this.getSenders().filter(c=>l.indexOf(c)===-1);this._shimmedLocalStreams[s.id]=[s].concat(a)};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[s.id],n.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},s&&Object.keys(this._shimmedLocalStreams).forEach(l=>{const a=this._shimmedLocalStreams[l].indexOf(s);a!==-1&&this._shimmedLocalStreams[l].splice(a,1),this._shimmedLocalStreams[l].length===1&&delete this._shimmedLocalStreams[l]}),i.apply(this,arguments)}}function Ps(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return Ts(e);const r=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const f=r.apply(this);return this._reverseStreams=this._reverseStreams||{},f.map(u=>this._reverseStreams[u.id])};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(f){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},f.getTracks().forEach(u=>{if(this.getSenders().find(g=>g.track===u))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[f.id]){const u=new e.MediaStream(f.getTracks());this._streams[f.id]=u,this._reverseStreams[u.id]=f,f=u}n.apply(this,[f])};const i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(f){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[f.id]||f]),delete this._reverseStreams[this._streams[f.id]?this._streams[f.id].id:f.id],delete this._streams[f.id]},e.RTCPeerConnection.prototype.addTrack=function(f,u){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const p=[].slice.call(arguments,1);if(p.length!==1||!p[0].getTracks().find(b=>b===f))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(b=>b.track===f))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const m=this._streams[u.id];if(m)m.addTrack(f),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const b=new e.MediaStream([f]);this._streams[u.id]=b,this._reverseStreams[b.id]=u,this.addStream(b)}return this.getSenders().find(b=>b.track===f)};function o(c,f){let u=f.sdp;return Object.keys(c._reverseStreams||[]).forEach(p=>{const g=c._reverseStreams[p],m=c._streams[g.id];u=u.replace(new RegExp(m.id,"g"),g.id)}),new RTCSessionDescription({type:f.type,sdp:u})}function s(c,f){let u=f.sdp;return Object.keys(c._reverseStreams||[]).forEach(p=>{const g=c._reverseStreams[p],m=c._streams[g.id];u=u.replace(new RegExp(g.id,"g"),m.id)}),new RTCSessionDescription({type:f.type,sdp:u})}["createOffer","createAnswer"].forEach(function(c){const f=e.RTCPeerConnection.prototype[c],u={[c](){const p=arguments;return arguments.length&&typeof arguments[0]=="function"?f.apply(this,[m=>{const b=o(this,m);p[0].apply(null,[b])},m=>{p[1]&&p[1].apply(null,m)},arguments[2]]):f.apply(this,arguments).then(m=>o(this,m))}};e.RTCPeerConnection.prototype[c]=u[c]});const l=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?l.apply(this,arguments):(arguments[0]=s(this,arguments[0]),l.apply(this,arguments))};const a=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const c=a.get.apply(this);return c.type===""?c:o(this,c)}}),e.RTCPeerConnection.prototype.removeTrack=function(f){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!f._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(f._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let p;Object.keys(this._streams).forEach(g=>{this._streams[g].getTracks().find(b=>f.track===b)&&(p=this._streams[g])}),p&&(p.getTracks().length===1?this.removeStream(this._reverseStreams[p.id]):p.removeTrack(f.track),this.dispatchEvent(new Event("negotiationneeded")))}}function xn(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),!!e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(r){const n=e.RTCPeerConnection.prototype[r],i={[r](){return arguments[0]=new(r==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[r]=i[r]})}function ks(e,t){Ft(e,"negotiationneeded",r=>{const n=r.target;if(!((t.version<72||n.getConfiguration&&n.getConfiguration().sdpSemantics==="plan-b")&&n.signalingState!=="stable"))return r})}const Ki=Object.freeze(Object.defineProperty({__proto__:null,shimMediaStream:ys,shimOnTrack:_s,shimGetSendersWithDtmf:bs,shimGetStats:Cs,shimSenderReceiverGetStats:Ss,shimAddTrackRemoveTrackWithNative:Ts,shimAddTrackRemoveTrack:Ps,shimPeerConnection:xn,fixNegotiationNeeded:ks,shimGetUserMedia:vs,shimGetDisplayMedia:jl},Symbol.toStringTag,{value:"Module"}));function Fl(e,t){let r=!1;return e=JSON.parse(JSON.stringify(e)),e.filter(n=>{if(n&&(n.urls||n.url)){let i=n.urls||n.url;n.url&&!n.urls&&Jr("RTCIceServer.url","RTCIceServer.urls");const o=typeof i=="string";return o&&(i=[i]),i=i.filter(s=>{if(s.indexOf("stun:")===0)return!1;const l=s.startsWith("turn")&&!s.startsWith("turn:[")&&s.includes("transport=udp");return l&&!r?(r=!0,!0):l&&!r}),delete n.url,n.urls=o?i[0]:i,!!i.length}})}var oi={exports:{}};(function(e){var t={};t.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},t.localCName=t.generateIdentifier(),t.splitLines=function(r){return r.trim().split(`
`).map(function(n){return n.trim()})},t.splitSections=function(r){var n=r.split(`
m=`);return n.map(function(i,o){return(o>0?"m="+i:i).trim()+`\r
`})},t.getDescription=function(r){var n=t.splitSections(r);return n&&n[0]},t.getMediaSections=function(r){var n=t.splitSections(r);return n.shift(),n},t.matchPrefix=function(r,n){return t.splitLines(r).filter(function(i){return i.indexOf(n)===0})},t.parseCandidate=function(r){var n;r.indexOf("a=candidate:")===0?n=r.substring(12).split(" "):n=r.substring(10).split(" ");for(var i={foundation:n[0],component:parseInt(n[1],10),protocol:n[2].toLowerCase(),priority:parseInt(n[3],10),ip:n[4],address:n[4],port:parseInt(n[5],10),type:n[7]},o=8;o<n.length;o+=2)switch(n[o]){case"raddr":i.relatedAddress=n[o+1];break;case"rport":i.relatedPort=parseInt(n[o+1],10);break;case"tcptype":i.tcpType=n[o+1];break;case"ufrag":i.ufrag=n[o+1],i.usernameFragment=n[o+1];break;default:i[n[o]]=n[o+1];break}return i},t.writeCandidate=function(r){var n=[];n.push(r.foundation),n.push(r.component),n.push(r.protocol.toUpperCase()),n.push(r.priority),n.push(r.address||r.ip),n.push(r.port);var i=r.type;return n.push("typ"),n.push(i),i!=="host"&&r.relatedAddress&&r.relatedPort&&(n.push("raddr"),n.push(r.relatedAddress),n.push("rport"),n.push(r.relatedPort)),r.tcpType&&r.protocol.toLowerCase()==="tcp"&&(n.push("tcptype"),n.push(r.tcpType)),(r.usernameFragment||r.ufrag)&&(n.push("ufrag"),n.push(r.usernameFragment||r.ufrag)),"candidate:"+n.join(" ")},t.parseIceOptions=function(r){return r.substr(14).split(" ")},t.parseRtpMap=function(r){var n=r.substr(9).split(" "),i={payloadType:parseInt(n.shift(),10)};return n=n[0].split("/"),i.name=n[0],i.clockRate=parseInt(n[1],10),i.channels=n.length===3?parseInt(n[2],10):1,i.numChannels=i.channels,i},t.writeRtpMap=function(r){var n=r.payloadType;r.preferredPayloadType!==void 0&&(n=r.preferredPayloadType);var i=r.channels||r.numChannels||1;return"a=rtpmap:"+n+" "+r.name+"/"+r.clockRate+(i!==1?"/"+i:"")+`\r
`},t.parseExtmap=function(r){var n=r.substr(9).split(" ");return{id:parseInt(n[0],10),direction:n[0].indexOf("/")>0?n[0].split("/")[1]:"sendrecv",uri:n[1]}},t.writeExtmap=function(r){return"a=extmap:"+(r.id||r.preferredId)+(r.direction&&r.direction!=="sendrecv"?"/"+r.direction:"")+" "+r.uri+`\r
`},t.parseFmtp=function(r){for(var n={},i,o=r.substr(r.indexOf(" ")+1).split(";"),s=0;s<o.length;s++)i=o[s].trim().split("="),n[i[0].trim()]=i[1];return n},t.writeFmtp=function(r){var n="",i=r.payloadType;if(r.preferredPayloadType!==void 0&&(i=r.preferredPayloadType),r.parameters&&Object.keys(r.parameters).length){var o=[];Object.keys(r.parameters).forEach(function(s){r.parameters[s]?o.push(s+"="+r.parameters[s]):o.push(s)}),n+="a=fmtp:"+i+" "+o.join(";")+`\r
`}return n},t.parseRtcpFb=function(r){var n=r.substr(r.indexOf(" ")+1).split(" ");return{type:n.shift(),parameter:n.join(" ")}},t.writeRtcpFb=function(r){var n="",i=r.payloadType;return r.preferredPayloadType!==void 0&&(i=r.preferredPayloadType),r.rtcpFeedback&&r.rtcpFeedback.length&&r.rtcpFeedback.forEach(function(o){n+="a=rtcp-fb:"+i+" "+o.type+(o.parameter&&o.parameter.length?" "+o.parameter:"")+`\r
`}),n},t.parseSsrcMedia=function(r){var n=r.indexOf(" "),i={ssrc:parseInt(r.substr(7,n-7),10)},o=r.indexOf(":",n);return o>-1?(i.attribute=r.substr(n+1,o-n-1),i.value=r.substr(o+1)):i.attribute=r.substr(n+1),i},t.parseSsrcGroup=function(r){var n=r.substr(13).split(" ");return{semantics:n.shift(),ssrcs:n.map(function(i){return parseInt(i,10)})}},t.getMid=function(r){var n=t.matchPrefix(r,"a=mid:")[0];if(n)return n.substr(6)},t.parseFingerprint=function(r){var n=r.substr(14).split(" ");return{algorithm:n[0].toLowerCase(),value:n[1]}},t.getDtlsParameters=function(r,n){var i=t.matchPrefix(r+n,"a=fingerprint:");return{role:"auto",fingerprints:i.map(t.parseFingerprint)}},t.writeDtlsParameters=function(r,n){var i="a=setup:"+n+`\r
`;return r.fingerprints.forEach(function(o){i+="a=fingerprint:"+o.algorithm+" "+o.value+`\r
`}),i},t.parseCryptoLine=function(r){var n=r.substr(9).split(" ");return{tag:parseInt(n[0],10),cryptoSuite:n[1],keyParams:n[2],sessionParams:n.slice(3)}},t.writeCryptoLine=function(r){return"a=crypto:"+r.tag+" "+r.cryptoSuite+" "+(typeof r.keyParams=="object"?t.writeCryptoKeyParams(r.keyParams):r.keyParams)+(r.sessionParams?" "+r.sessionParams.join(" "):"")+`\r
`},t.parseCryptoKeyParams=function(r){if(r.indexOf("inline:")!==0)return null;var n=r.substr(7).split("|");return{keyMethod:"inline",keySalt:n[0],lifeTime:n[1],mkiValue:n[2]?n[2].split(":")[0]:void 0,mkiLength:n[2]?n[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(r){return r.keyMethod+":"+r.keySalt+(r.lifeTime?"|"+r.lifeTime:"")+(r.mkiValue&&r.mkiLength?"|"+r.mkiValue+":"+r.mkiLength:"")},t.getCryptoParameters=function(r,n){var i=t.matchPrefix(r+n,"a=crypto:");return i.map(t.parseCryptoLine)},t.getIceParameters=function(r,n){var i=t.matchPrefix(r+n,"a=ice-ufrag:")[0],o=t.matchPrefix(r+n,"a=ice-pwd:")[0];return i&&o?{usernameFragment:i.substr(12),password:o.substr(10)}:null},t.writeIceParameters=function(r){return"a=ice-ufrag:"+r.usernameFragment+`\r
a=ice-pwd:`+r.password+`\r
`},t.parseRtpParameters=function(r){for(var n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=t.splitLines(r),o=i[0].split(" "),s=3;s<o.length;s++){var l=o[s],a=t.matchPrefix(r,"a=rtpmap:"+l+" ")[0];if(a){var c=t.parseRtpMap(a),f=t.matchPrefix(r,"a=fmtp:"+l+" ");switch(c.parameters=f.length?t.parseFmtp(f[0]):{},c.rtcpFeedback=t.matchPrefix(r,"a=rtcp-fb:"+l+" ").map(t.parseRtcpFb),n.codecs.push(c),c.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(c.name.toUpperCase());break}}}return t.matchPrefix(r,"a=extmap:").forEach(function(u){n.headerExtensions.push(t.parseExtmap(u))}),n},t.writeRtpDescription=function(r,n){var i="";i+="m="+r+" ",i+=n.codecs.length>0?"9":"0",i+=" UDP/TLS/RTP/SAVPF ",i+=n.codecs.map(function(s){return s.preferredPayloadType!==void 0?s.preferredPayloadType:s.payloadType}).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,n.codecs.forEach(function(s){i+=t.writeRtpMap(s),i+=t.writeFmtp(s),i+=t.writeRtcpFb(s)});var o=0;return n.codecs.forEach(function(s){s.maxptime>o&&(o=s.maxptime)}),o>0&&(i+="a=maxptime:"+o+`\r
`),i+=`a=rtcp-mux\r
`,n.headerExtensions&&n.headerExtensions.forEach(function(s){i+=t.writeExtmap(s)}),i},t.parseRtpEncodingParameters=function(r){var n=[],i=t.parseRtpParameters(r),o=i.fecMechanisms.indexOf("RED")!==-1,s=i.fecMechanisms.indexOf("ULPFEC")!==-1,l=t.matchPrefix(r,"a=ssrc:").map(function(p){return t.parseSsrcMedia(p)}).filter(function(p){return p.attribute==="cname"}),a=l.length>0&&l[0].ssrc,c,f=t.matchPrefix(r,"a=ssrc-group:FID").map(function(p){var g=p.substr(17).split(" ");return g.map(function(m){return parseInt(m,10)})});f.length>0&&f[0].length>1&&f[0][0]===a&&(c=f[0][1]),i.codecs.forEach(function(p){if(p.name.toUpperCase()==="RTX"&&p.parameters.apt){var g={ssrc:a,codecPayloadType:parseInt(p.parameters.apt,10)};a&&c&&(g.rtx={ssrc:c}),n.push(g),o&&(g=JSON.parse(JSON.stringify(g)),g.fec={ssrc:a,mechanism:s?"red+ulpfec":"red"},n.push(g))}}),n.length===0&&a&&n.push({ssrc:a});var u=t.matchPrefix(r,"b=");return u.length&&(u[0].indexOf("b=TIAS:")===0?u=parseInt(u[0].substr(7),10):u[0].indexOf("b=AS:")===0?u=parseInt(u[0].substr(5),10)*1e3*.95-50*40*8:u=void 0,n.forEach(function(p){p.maxBitrate=u})),n},t.parseRtcpParameters=function(r){var n={},i=t.matchPrefix(r,"a=ssrc:").map(function(l){return t.parseSsrcMedia(l)}).filter(function(l){return l.attribute==="cname"})[0];i&&(n.cname=i.value,n.ssrc=i.ssrc);var o=t.matchPrefix(r,"a=rtcp-rsize");n.reducedSize=o.length>0,n.compound=o.length===0;var s=t.matchPrefix(r,"a=rtcp-mux");return n.mux=s.length>0,n},t.parseMsid=function(r){var n,i=t.matchPrefix(r,"a=msid:");if(i.length===1)return n=i[0].substr(7).split(" "),{stream:n[0],track:n[1]};var o=t.matchPrefix(r,"a=ssrc:").map(function(s){return t.parseSsrcMedia(s)}).filter(function(s){return s.attribute==="msid"});if(o.length>0)return n=o[0].value.split(" "),{stream:n[0],track:n[1]}},t.parseSctpDescription=function(r){var n=t.parseMLine(r),i=t.matchPrefix(r,"a=max-message-size:"),o;i.length>0&&(o=parseInt(i[0].substr(19),10)),isNaN(o)&&(o=65536);var s=t.matchPrefix(r,"a=sctp-port:");if(s.length>0)return{port:parseInt(s[0].substr(12),10),protocol:n.fmt,maxMessageSize:o};var l=t.matchPrefix(r,"a=sctpmap:");if(l.length>0){var a=t.matchPrefix(r,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(a[0],10),protocol:a[1],maxMessageSize:o}}},t.writeSctpDescription=function(r,n){var i=[];return r.protocol!=="DTLS/SCTP"?i=["m="+r.kind+" 9 "+r.protocol+" "+n.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+n.port+`\r
`]:i=["m="+r.kind+" 9 "+r.protocol+" "+n.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+n.port+" "+n.protocol+` 65535\r
`],n.maxMessageSize!==void 0&&i.push("a=max-message-size:"+n.maxMessageSize+`\r
`),i.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(r,n,i){var o,s=n!==void 0?n:2;r?o=r:o=t.generateSessionId();var l=i||"thisisadapterortc";return`v=0\r
o=`+l+" "+o+" "+s+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},t.writeMediaSection=function(r,n,i,o){var s=t.writeRtpDescription(r.kind,n);if(s+=t.writeIceParameters(r.iceGatherer.getLocalParameters()),s+=t.writeDtlsParameters(r.dtlsTransport.getLocalParameters(),i==="offer"?"actpass":"active"),s+="a=mid:"+r.mid+`\r
`,r.direction?s+="a="+r.direction+`\r
`:r.rtpSender&&r.rtpReceiver?s+=`a=sendrecv\r
`:r.rtpSender?s+=`a=sendonly\r
`:r.rtpReceiver?s+=`a=recvonly\r
`:s+=`a=inactive\r
`,r.rtpSender){var l="msid:"+o.id+" "+r.rtpSender.track.id+`\r
`;s+="a="+l,s+="a=ssrc:"+r.sendEncodingParameters[0].ssrc+" "+l,r.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+r.sendEncodingParameters[0].rtx.ssrc+" "+l,s+="a=ssrc-group:FID "+r.sendEncodingParameters[0].ssrc+" "+r.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return s+="a=ssrc:"+r.sendEncodingParameters[0].ssrc+" cname:"+t.localCName+`\r
`,r.rtpSender&&r.sendEncodingParameters[0].rtx&&(s+="a=ssrc:"+r.sendEncodingParameters[0].rtx.ssrc+" cname:"+t.localCName+`\r
`),s},t.getDirection=function(r,n){for(var i=t.splitLines(r),o=0;o<i.length;o++)switch(i[o]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[o].substr(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(r){var n=t.splitLines(r),i=n[0].split(" ");return i[0].substr(2)},t.isRejected=function(r){return r.split(" ",2)[1]==="0"},t.parseMLine=function(r){var n=t.splitLines(r),i=n[0].substr(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},t.parseOLine=function(r){var n=t.matchPrefix(r,"o=")[0],i=n.substr(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(r){if(typeof r!="string"||r.length===0)return!1;for(var n=t.splitLines(r),i=0;i<n.length;i++)if(n[i].length<2||n[i].charAt(1)!=="=")return!1;return!0},e.exports=t})(oi);const vr=oi.exports;var F=oi.exports;function Bl(e){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type}function Vi(e,t,r,n,i){var o=F.writeRtpDescription(e.kind,t);if(o+=F.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=F.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),r==="offer"?"actpass":i||"active"),o+="a=mid:"+e.mid+`\r
`,e.rtpSender&&e.rtpReceiver?o+=`a=sendrecv\r
`:e.rtpSender?o+=`a=sendonly\r
`:e.rtpReceiver?o+=`a=recvonly\r
`:o+=`a=inactive\r
`,e.rtpSender){var s=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=s;var l="msid:"+(n?n.id:"-")+" "+s+`\r
`;o+="a="+l,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+l,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+l,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+`\r
`)}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+F.localCName+`\r
`,e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+F.localCName+`\r
`),o}function Ll(e,t){var r=!1;return e=JSON.parse(JSON.stringify(e)),e.filter(function(n){if(n&&(n.urls||n.url)){var i=n.urls||n.url;n.url&&!n.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var o=typeof i=="string";return o&&(i=[i]),i=i.filter(function(s){var l=s.indexOf("turn:")===0&&s.indexOf("transport=udp")!==-1&&s.indexOf("turn:[")===-1&&!r;return l?(r=!0,!0):s.indexOf("stun:")===0&&t>=14393&&s.indexOf("?transport=udp")===-1}),delete n.url,n.urls=o?i[0]:i,!!i.length}})}function fr(e,t){var r={codecs:[],headerExtensions:[],fecMechanisms:[]},n=function(o,s){o=parseInt(o,10);for(var l=0;l<s.length;l++)if(s[l].payloadType===o||s[l].preferredPayloadType===o)return s[l]},i=function(o,s,l,a){var c=n(o.parameters.apt,l),f=n(s.parameters.apt,a);return c&&f&&c.name.toLowerCase()===f.name.toLowerCase()};return e.codecs.forEach(function(o){for(var s=0;s<t.codecs.length;s++){var l=t.codecs[s];if(o.name.toLowerCase()===l.name.toLowerCase()&&o.clockRate===l.clockRate){if(o.name.toLowerCase()==="rtx"&&o.parameters&&l.parameters.apt&&!i(o,l,e.codecs,t.codecs))continue;l=JSON.parse(JSON.stringify(l)),l.numChannels=Math.min(o.numChannels,l.numChannels),r.codecs.push(l),l.rtcpFeedback=l.rtcpFeedback.filter(function(a){for(var c=0;c<o.rtcpFeedback.length;c++)if(o.rtcpFeedback[c].type===a.type&&o.rtcpFeedback[c].parameter===a.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(o){for(var s=0;s<t.headerExtensions.length;s++){var l=t.headerExtensions[s];if(o.uri===l.uri){r.headerExtensions.push(l);break}}}),r}function Wi(e,t,r){return{offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(r)!==-1}function nn(e,t){var r=e.getRemoteCandidates().find(function(n){return t.foundation===n.foundation&&t.ip===n.ip&&t.port===n.port&&t.priority===n.priority&&t.protocol===n.protocol&&t.type===n.type});return r||e.addRemoteCandidate(t),!r}function pe(e,t){var r=new Error(t);return r.name=e,r.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],r}var $l=function(e,t){function r(a,c){c.addTrack(a),c.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:a}))}function n(a,c){c.removeTrack(a),c.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:a}))}function i(a,c,f,u){var p=new Event("track");p.track=c,p.receiver=f,p.transceiver={receiver:f},p.streams=u,e.setTimeout(function(){a._dispatchEvent("track",p)})}var o=function(a){var c=this,f=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(p){c[p]=f[p].bind(f)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",a=JSON.parse(JSON.stringify(a||{})),this.usingBundle=a.bundlePolicy==="max-bundle",a.rtcpMuxPolicy==="negotiate")throw pe("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(a.rtcpMuxPolicy||(a.rtcpMuxPolicy="require"),a.iceTransportPolicy){case"all":case"relay":break;default:a.iceTransportPolicy="all";break}switch(a.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:a.bundlePolicy="balanced";break}if(a.iceServers=Ll(a.iceServers||[],t),this._iceGatherers=[],a.iceCandidatePoolSize)for(var u=a.iceCandidatePoolSize;u>0;u--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:a.iceServers,gatherPolicy:a.iceTransportPolicy}));else a.iceCandidatePoolSize=0;this._config=a,this.transceivers=[],this._sdpSessionId=F.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(o.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(o.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),o.prototype.onicecandidate=null,o.prototype.onaddstream=null,o.prototype.ontrack=null,o.prototype.onremovestream=null,o.prototype.onsignalingstatechange=null,o.prototype.oniceconnectionstatechange=null,o.prototype.onconnectionstatechange=null,o.prototype.onicegatheringstatechange=null,o.prototype.onnegotiationneeded=null,o.prototype.ondatachannel=null,o.prototype._dispatchEvent=function(a,c){this._isClosed||(this.dispatchEvent(c),typeof this["on"+a]=="function"&&this["on"+a](c))},o.prototype._emitGatheringStateChange=function(){var a=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",a)},o.prototype.getConfiguration=function(){return this._config},o.prototype.getLocalStreams=function(){return this.localStreams},o.prototype.getRemoteStreams=function(){return this.remoteStreams},o.prototype._createTransceiver=function(a,c){var f=this.transceivers.length>0,u={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:a,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&f)u.iceTransport=this.transceivers[0].iceTransport,u.dtlsTransport=this.transceivers[0].dtlsTransport;else{var p=this._createIceAndDtlsTransports();u.iceTransport=p.iceTransport,u.dtlsTransport=p.dtlsTransport}return c||this.transceivers.push(u),u},o.prototype.addTrack=function(a,c){if(this._isClosed)throw pe("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var f=this.transceivers.find(function(g){return g.track===a});if(f)throw pe("InvalidAccessError","Track already exists.");for(var u,p=0;p<this.transceivers.length;p++)!this.transceivers[p].track&&this.transceivers[p].kind===a.kind&&(u=this.transceivers[p]);return u||(u=this._createTransceiver(a.kind)),this._maybeFireNegotiationNeeded(),this.localStreams.indexOf(c)===-1&&this.localStreams.push(c),u.track=a,u.stream=c,u.rtpSender=new e.RTCRtpSender(a,u.dtlsTransport),u.rtpSender},o.prototype.addStream=function(a){var c=this;if(t>=15025)a.getTracks().forEach(function(u){c.addTrack(u,a)});else{var f=a.clone();a.getTracks().forEach(function(u,p){var g=f.getTracks()[p];u.addEventListener("enabled",function(m){g.enabled=m.enabled})}),f.getTracks().forEach(function(u){c.addTrack(u,f)})}},o.prototype.removeTrack=function(a){if(this._isClosed)throw pe("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(a instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var c=this.transceivers.find(function(p){return p.rtpSender===a});if(!c)throw pe("InvalidAccessError","Sender was not created by this connection.");var f=c.stream;c.rtpSender.stop(),c.rtpSender=null,c.track=null,c.stream=null;var u=this.transceivers.map(function(p){return p.stream});u.indexOf(f)===-1&&this.localStreams.indexOf(f)>-1&&this.localStreams.splice(this.localStreams.indexOf(f),1),this._maybeFireNegotiationNeeded()},o.prototype.removeStream=function(a){var c=this;a.getTracks().forEach(function(f){var u=c.getSenders().find(function(p){return p.track===f});u&&c.removeTrack(u)})},o.prototype.getSenders=function(){return this.transceivers.filter(function(a){return!!a.rtpSender}).map(function(a){return a.rtpSender})},o.prototype.getReceivers=function(){return this.transceivers.filter(function(a){return!!a.rtpReceiver}).map(function(a){return a.rtpReceiver})},o.prototype._createIceGatherer=function(a,c){var f=this;if(c&&a>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var u=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(u,"state",{value:"new",writable:!0}),this.transceivers[a].bufferedCandidateEvents=[],this.transceivers[a].bufferCandidates=function(p){var g=!p.candidate||Object.keys(p.candidate).length===0;u.state=g?"completed":"gathering",f.transceivers[a].bufferedCandidateEvents!==null&&f.transceivers[a].bufferedCandidateEvents.push(p)},u.addEventListener("localcandidate",this.transceivers[a].bufferCandidates),u},o.prototype._gather=function(a,c){var f=this,u=this.transceivers[c].iceGatherer;if(!u.onlocalcandidate){var p=this.transceivers[c].bufferedCandidateEvents;this.transceivers[c].bufferedCandidateEvents=null,u.removeEventListener("localcandidate",this.transceivers[c].bufferCandidates),u.onlocalcandidate=function(g){if(!(f.usingBundle&&c>0)){var m=new Event("icecandidate");m.candidate={sdpMid:a,sdpMLineIndex:c};var b=g.candidate,R=!b||Object.keys(b).length===0;if(R)(u.state==="new"||u.state==="gathering")&&(u.state="completed");else{u.state==="new"&&(u.state="gathering"),b.component=1,b.ufrag=u.getLocalParameters().usernameFragment;var T=F.writeCandidate(b);m.candidate=Object.assign(m.candidate,F.parseCandidate(T)),m.candidate.candidate=T,m.candidate.toJSON=function(){return{candidate:m.candidate.candidate,sdpMid:m.candidate.sdpMid,sdpMLineIndex:m.candidate.sdpMLineIndex,usernameFragment:m.candidate.usernameFragment}}}var M=F.getMediaSections(f._localDescription.sdp);R?M[m.candidate.sdpMLineIndex]+=`a=end-of-candidates\r
`:M[m.candidate.sdpMLineIndex]+="a="+m.candidate.candidate+`\r
`,f._localDescription.sdp=F.getDescription(f._localDescription.sdp)+M.join("");var w=f.transceivers.every(function($){return $.iceGatherer&&$.iceGatherer.state==="completed"});f.iceGatheringState!=="gathering"&&(f.iceGatheringState="gathering",f._emitGatheringStateChange()),R||f._dispatchEvent("icecandidate",m),w&&(f._dispatchEvent("icecandidate",new Event("icecandidate")),f.iceGatheringState="complete",f._emitGatheringStateChange())}},e.setTimeout(function(){p.forEach(function(g){u.onlocalcandidate(g)})},0)}},o.prototype._createIceAndDtlsTransports=function(){var a=this,c=new e.RTCIceTransport(null);c.onicestatechange=function(){a._updateIceConnectionState(),a._updateConnectionState()};var f=new e.RTCDtlsTransport(c);return f.ondtlsstatechange=function(){a._updateConnectionState()},f.onerror=function(){Object.defineProperty(f,"state",{value:"failed",writable:!0}),a._updateConnectionState()},{iceTransport:c,dtlsTransport:f}},o.prototype._disposeIceAndDtlsTransports=function(a){var c=this.transceivers[a].iceGatherer;c&&(delete c.onlocalcandidate,delete this.transceivers[a].iceGatherer);var f=this.transceivers[a].iceTransport;f&&(delete f.onicestatechange,delete this.transceivers[a].iceTransport);var u=this.transceivers[a].dtlsTransport;u&&(delete u.ondtlsstatechange,delete u.onerror,delete this.transceivers[a].dtlsTransport)},o.prototype._transceive=function(a,c,f){var u=fr(a.localCapabilities,a.remoteCapabilities);c&&a.rtpSender&&(u.encodings=a.sendEncodingParameters,u.rtcp={cname:F.localCName,compound:a.rtcpParameters.compound},a.recvEncodingParameters.length&&(u.rtcp.ssrc=a.recvEncodingParameters[0].ssrc),a.rtpSender.send(u)),f&&a.rtpReceiver&&u.codecs.length>0&&(a.kind==="video"&&a.recvEncodingParameters&&t<15019&&a.recvEncodingParameters.forEach(function(p){delete p.rtx}),a.recvEncodingParameters.length?u.encodings=a.recvEncodingParameters:u.encodings=[{}],u.rtcp={compound:a.rtcpParameters.compound},a.rtcpParameters.cname&&(u.rtcp.cname=a.rtcpParameters.cname),a.sendEncodingParameters.length&&(u.rtcp.ssrc=a.sendEncodingParameters[0].ssrc),a.rtpReceiver.receive(u))},o.prototype.setLocalDescription=function(a){var c=this;if(["offer","answer"].indexOf(a.type)===-1)return Promise.reject(pe("TypeError",'Unsupported type "'+a.type+'"'));if(!Wi("setLocalDescription",a.type,c.signalingState)||c._isClosed)return Promise.reject(pe("InvalidStateError","Can not set local "+a.type+" in state "+c.signalingState));var f,u;if(a.type==="offer")f=F.splitSections(a.sdp),u=f.shift(),f.forEach(function(g,m){var b=F.parseRtpParameters(g);c.transceivers[m].localCapabilities=b}),c.transceivers.forEach(function(g,m){c._gather(g.mid,m)});else if(a.type==="answer"){f=F.splitSections(c._remoteDescription.sdp),u=f.shift();var p=F.matchPrefix(u,"a=ice-lite").length>0;f.forEach(function(g,m){var b=c.transceivers[m],R=b.iceGatherer,T=b.iceTransport,M=b.dtlsTransport,w=b.localCapabilities,$=b.remoteCapabilities,U=F.isRejected(g)&&F.matchPrefix(g,"a=bundle-only").length===0;if(!U&&!b.rejected){var te=F.getIceParameters(g,u),Z=F.getDtlsParameters(g,u);p&&(Z.role="server"),(!c.usingBundle||m===0)&&(c._gather(b.mid,m),T.state==="new"&&T.start(R,te,p?"controlling":"controlled"),M.state==="new"&&M.start(Z));var j=fr(w,$);c._transceive(b,j.codecs.length>0,!1)}})}return c._localDescription={type:a.type,sdp:a.sdp},a.type==="offer"?c._updateSignalingState("have-local-offer"):c._updateSignalingState("stable"),Promise.resolve()},o.prototype.setRemoteDescription=function(a){var c=this;if(["offer","answer"].indexOf(a.type)===-1)return Promise.reject(pe("TypeError",'Unsupported type "'+a.type+'"'));if(!Wi("setRemoteDescription",a.type,c.signalingState)||c._isClosed)return Promise.reject(pe("InvalidStateError","Can not set remote "+a.type+" in state "+c.signalingState));var f={};c.remoteStreams.forEach(function(T){f[T.id]=T});var u=[],p=F.splitSections(a.sdp),g=p.shift(),m=F.matchPrefix(g,"a=ice-lite").length>0,b=F.matchPrefix(g,"a=group:BUNDLE ").length>0;c.usingBundle=b;var R=F.matchPrefix(g,"a=ice-options:")[0];return R?c.canTrickleIceCandidates=R.substr(14).split(" ").indexOf("trickle")>=0:c.canTrickleIceCandidates=!1,p.forEach(function(T,M){var w=F.splitLines(T),$=F.getKind(T),U=F.isRejected(T)&&F.matchPrefix(T,"a=bundle-only").length===0,te=w[0].substr(2).split(" ")[2],Z=F.getDirection(T,g),j=F.parseMsid(T),X=F.getMid(T)||F.generateIdentifier();if(U||$==="application"&&(te==="DTLS/SCTP"||te==="UDP/DTLS/SCTP")){c.transceivers[M]={mid:X,kind:$,protocol:te,rejected:!0};return}!U&&c.transceivers[M]&&c.transceivers[M].rejected&&(c.transceivers[M]=c._createTransceiver($,!0));var D,ne,ie,Se,_e,ft,re,V,z,Ee=F.parseRtpParameters(T),Ct,He;U||(Ct=F.getIceParameters(T,g),He=F.getDtlsParameters(T,g),He.role="client"),re=F.parseRtpEncodingParameters(T);var Je=F.parseRtcpParameters(T),De=F.matchPrefix(T,"a=end-of-candidates",g).length>0,Ke=F.matchPrefix(T,"a=candidate:").map(function(oe){return F.parseCandidate(oe)}).filter(function(oe){return oe.component===1});if((a.type==="offer"||a.type==="answer")&&!U&&b&&M>0&&c.transceivers[M]&&(c._disposeIceAndDtlsTransports(M),c.transceivers[M].iceGatherer=c.transceivers[0].iceGatherer,c.transceivers[M].iceTransport=c.transceivers[0].iceTransport,c.transceivers[M].dtlsTransport=c.transceivers[0].dtlsTransport,c.transceivers[M].rtpSender&&c.transceivers[M].rtpSender.setTransport(c.transceivers[0].dtlsTransport),c.transceivers[M].rtpReceiver&&c.transceivers[M].rtpReceiver.setTransport(c.transceivers[0].dtlsTransport)),a.type==="offer"&&!U){D=c.transceivers[M]||c._createTransceiver($),D.mid=X,D.iceGatherer||(D.iceGatherer=c._createIceGatherer(M,b)),Ke.length&&D.iceTransport.state==="new"&&(De&&(!b||M===0)?D.iceTransport.setRemoteCandidates(Ke):Ke.forEach(function(oe){nn(D.iceTransport,oe)})),V=e.RTCRtpReceiver.getCapabilities($),t<15019&&(V.codecs=V.codecs.filter(function(oe){return oe.name!=="rtx"})),ft=D.sendEncodingParameters||[{ssrc:(2*M+2)*1001}];var Bt=!1;if(Z==="sendrecv"||Z==="sendonly"){if(Bt=!D.rtpReceiver,_e=D.rtpReceiver||new e.RTCRtpReceiver(D.dtlsTransport,$),Bt){var rt;z=_e.track,j&&j.stream==="-"||(j?(f[j.stream]||(f[j.stream]=new e.MediaStream,Object.defineProperty(f[j.stream],"id",{get:function(){return j.stream}})),Object.defineProperty(z,"id",{get:function(){return j.track}}),rt=f[j.stream]):(f.default||(f.default=new e.MediaStream),rt=f.default)),rt&&(r(z,rt),D.associatedRemoteMediaStreams.push(rt)),u.push([z,_e,rt])}}else D.rtpReceiver&&D.rtpReceiver.track&&(D.associatedRemoteMediaStreams.forEach(function(oe){var Ve=oe.getTracks().find(function(Lt){return Lt.id===D.rtpReceiver.track.id});Ve&&n(Ve,oe)}),D.associatedRemoteMediaStreams=[]);D.localCapabilities=V,D.remoteCapabilities=Ee,D.rtpReceiver=_e,D.rtcpParameters=Je,D.sendEncodingParameters=ft,D.recvEncodingParameters=re,c._transceive(c.transceivers[M],!1,Bt)}else if(a.type==="answer"&&!U){D=c.transceivers[M],ne=D.iceGatherer,ie=D.iceTransport,Se=D.dtlsTransport,_e=D.rtpReceiver,ft=D.sendEncodingParameters,V=D.localCapabilities,c.transceivers[M].recvEncodingParameters=re,c.transceivers[M].remoteCapabilities=Ee,c.transceivers[M].rtcpParameters=Je,Ke.length&&ie.state==="new"&&((m||De)&&(!b||M===0)?ie.setRemoteCandidates(Ke):Ke.forEach(function(oe){nn(D.iceTransport,oe)})),(!b||M===0)&&(ie.state==="new"&&ie.start(ne,Ct,"controlling"),Se.state==="new"&&Se.start(He));var Ie=fr(D.localCapabilities,D.remoteCapabilities),St=Ie.codecs.filter(function(oe){return oe.name.toLowerCase()==="rtx"}).length;!St&&D.sendEncodingParameters[0].rtx&&delete D.sendEncodingParameters[0].rtx,c._transceive(D,Z==="sendrecv"||Z==="recvonly",Z==="sendrecv"||Z==="sendonly"),_e&&(Z==="sendrecv"||Z==="sendonly")?(z=_e.track,j?(f[j.stream]||(f[j.stream]=new e.MediaStream),r(z,f[j.stream]),u.push([z,_e,f[j.stream]])):(f.default||(f.default=new e.MediaStream),r(z,f.default),u.push([z,_e,f.default]))):delete D.rtpReceiver}}),c._dtlsRole===void 0&&(c._dtlsRole=a.type==="offer"?"active":"passive"),c._remoteDescription={type:a.type,sdp:a.sdp},a.type==="offer"?c._updateSignalingState("have-remote-offer"):c._updateSignalingState("stable"),Object.keys(f).forEach(function(T){var M=f[T];if(M.getTracks().length){if(c.remoteStreams.indexOf(M)===-1){c.remoteStreams.push(M);var w=new Event("addstream");w.stream=M,e.setTimeout(function(){c._dispatchEvent("addstream",w)})}u.forEach(function($){var U=$[0],te=$[1];M.id===$[2].id&&i(c,U,te,[M])})}}),u.forEach(function(T){T[2]||i(c,T[0],T[1],[])}),e.setTimeout(function(){!(c&&c.transceivers)||c.transceivers.forEach(function(T){T.iceTransport&&T.iceTransport.state==="new"&&T.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),T.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},o.prototype.close=function(){this.transceivers.forEach(function(a){a.iceTransport&&a.iceTransport.stop(),a.dtlsTransport&&a.dtlsTransport.stop(),a.rtpSender&&a.rtpSender.stop(),a.rtpReceiver&&a.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},o.prototype._updateSignalingState=function(a){this.signalingState=a;var c=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",c)},o.prototype._maybeFireNegotiationNeeded=function(){var a=this;this.signalingState!=="stable"||this.needNegotiation===!0||(this.needNegotiation=!0,e.setTimeout(function(){if(a.needNegotiation){a.needNegotiation=!1;var c=new Event("negotiationneeded");a._dispatchEvent("negotiationneeded",c)}},0))},o.prototype._updateIceConnectionState=function(){var a,c={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(u){u.iceTransport&&!u.rejected&&c[u.iceTransport.state]++}),a="new",c.failed>0?a="failed":c.checking>0?a="checking":c.disconnected>0?a="disconnected":c.new>0?a="new":c.connected>0?a="connected":c.completed>0&&(a="completed"),a!==this.iceConnectionState){this.iceConnectionState=a;var f=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",f)}},o.prototype._updateConnectionState=function(){var a,c={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(u){u.iceTransport&&u.dtlsTransport&&!u.rejected&&(c[u.iceTransport.state]++,c[u.dtlsTransport.state]++)}),c.connected+=c.completed,a="new",c.failed>0?a="failed":c.connecting>0?a="connecting":c.disconnected>0?a="disconnected":c.new>0?a="new":c.connected>0&&(a="connected"),a!==this.connectionState){this.connectionState=a;var f=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",f)}},o.prototype.createOffer=function(){var a=this;if(a._isClosed)return Promise.reject(pe("InvalidStateError","Can not call createOffer after close"));var c=a.transceivers.filter(function(m){return m.kind==="audio"}).length,f=a.transceivers.filter(function(m){return m.kind==="video"}).length,u=arguments[0];if(u){if(u.mandatory||u.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");u.offerToReceiveAudio!==void 0&&(u.offerToReceiveAudio===!0?c=1:u.offerToReceiveAudio===!1?c=0:c=u.offerToReceiveAudio),u.offerToReceiveVideo!==void 0&&(u.offerToReceiveVideo===!0?f=1:u.offerToReceiveVideo===!1?f=0:f=u.offerToReceiveVideo)}for(a.transceivers.forEach(function(m){m.kind==="audio"?(c--,c<0&&(m.wantReceive=!1)):m.kind==="video"&&(f--,f<0&&(m.wantReceive=!1))});c>0||f>0;)c>0&&(a._createTransceiver("audio"),c--),f>0&&(a._createTransceiver("video"),f--);var p=F.writeSessionBoilerplate(a._sdpSessionId,a._sdpSessionVersion++);a.transceivers.forEach(function(m,b){var R=m.track,T=m.kind,M=m.mid||F.generateIdentifier();m.mid=M,m.iceGatherer||(m.iceGatherer=a._createIceGatherer(b,a.usingBundle));var w=e.RTCRtpSender.getCapabilities(T);t<15019&&(w.codecs=w.codecs.filter(function(U){return U.name!=="rtx"})),w.codecs.forEach(function(U){U.name==="H264"&&U.parameters["level-asymmetry-allowed"]===void 0&&(U.parameters["level-asymmetry-allowed"]="1"),m.remoteCapabilities&&m.remoteCapabilities.codecs&&m.remoteCapabilities.codecs.forEach(function(te){U.name.toLowerCase()===te.name.toLowerCase()&&U.clockRate===te.clockRate&&(U.preferredPayloadType=te.payloadType)})}),w.headerExtensions.forEach(function(U){var te=m.remoteCapabilities&&m.remoteCapabilities.headerExtensions||[];te.forEach(function(Z){U.uri===Z.uri&&(U.id=Z.id)})});var $=m.sendEncodingParameters||[{ssrc:(2*b+1)*1001}];R&&t>=15019&&T==="video"&&!$[0].rtx&&($[0].rtx={ssrc:$[0].ssrc+1}),m.wantReceive&&(m.rtpReceiver=new e.RTCRtpReceiver(m.dtlsTransport,T)),m.localCapabilities=w,m.sendEncodingParameters=$}),a._config.bundlePolicy!=="max-compat"&&(p+="a=group:BUNDLE "+a.transceivers.map(function(m){return m.mid}).join(" ")+`\r
`),p+=`a=ice-options:trickle\r
`,a.transceivers.forEach(function(m,b){p+=Vi(m,m.localCapabilities,"offer",m.stream,a._dtlsRole),p+=`a=rtcp-rsize\r
`,m.iceGatherer&&a.iceGatheringState!=="new"&&(b===0||!a.usingBundle)&&(m.iceGatherer.getLocalCandidates().forEach(function(R){R.component=1,p+="a="+F.writeCandidate(R)+`\r
`}),m.iceGatherer.state==="completed"&&(p+=`a=end-of-candidates\r
`))});var g=new e.RTCSessionDescription({type:"offer",sdp:p});return Promise.resolve(g)},o.prototype.createAnswer=function(){var a=this;if(a._isClosed)return Promise.reject(pe("InvalidStateError","Can not call createAnswer after close"));if(!(a.signalingState==="have-remote-offer"||a.signalingState==="have-local-pranswer"))return Promise.reject(pe("InvalidStateError","Can not call createAnswer in signalingState "+a.signalingState));var c=F.writeSessionBoilerplate(a._sdpSessionId,a._sdpSessionVersion++);a.usingBundle&&(c+="a=group:BUNDLE "+a.transceivers.map(function(p){return p.mid}).join(" ")+`\r
`),c+=`a=ice-options:trickle\r
`;var f=F.getMediaSections(a._remoteDescription.sdp).length;a.transceivers.forEach(function(p,g){if(!(g+1>f)){if(p.rejected){p.kind==="application"?p.protocol==="DTLS/SCTP"?c+=`m=application 0 DTLS/SCTP 5000\r
`:c+="m=application 0 "+p.protocol+` webrtc-datachannel\r
`:p.kind==="audio"?c+=`m=audio 0 UDP/TLS/RTP/SAVPF 0\r
a=rtpmap:0 PCMU/8000\r
`:p.kind==="video"&&(c+=`m=video 0 UDP/TLS/RTP/SAVPF 120\r
a=rtpmap:120 VP8/90000\r
`),c+=`c=IN IP4 0.0.0.0\r
a=inactive\r
a=mid:`+p.mid+`\r
`;return}if(p.stream){var m;p.kind==="audio"?m=p.stream.getAudioTracks()[0]:p.kind==="video"&&(m=p.stream.getVideoTracks()[0]),m&&t>=15019&&p.kind==="video"&&!p.sendEncodingParameters[0].rtx&&(p.sendEncodingParameters[0].rtx={ssrc:p.sendEncodingParameters[0].ssrc+1})}var b=fr(p.localCapabilities,p.remoteCapabilities),R=b.codecs.filter(function(T){return T.name.toLowerCase()==="rtx"}).length;!R&&p.sendEncodingParameters[0].rtx&&delete p.sendEncodingParameters[0].rtx,c+=Vi(p,b,"answer",p.stream,a._dtlsRole),p.rtcpParameters&&p.rtcpParameters.reducedSize&&(c+=`a=rtcp-rsize\r
`)}});var u=new e.RTCSessionDescription({type:"answer",sdp:c});return Promise.resolve(u)},o.prototype.addIceCandidate=function(a){var c=this,f;return a&&!(a.sdpMLineIndex!==void 0||a.sdpMid)?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(u,p){if(c._remoteDescription)if(!a||a.candidate==="")for(var g=0;g<c.transceivers.length&&!(!c.transceivers[g].rejected&&(c.transceivers[g].iceTransport.addRemoteCandidate({}),f=F.getMediaSections(c._remoteDescription.sdp),f[g]+=`a=end-of-candidates\r
`,c._remoteDescription.sdp=F.getDescription(c._remoteDescription.sdp)+f.join(""),c.usingBundle));g++);else{var m=a.sdpMLineIndex;if(a.sdpMid){for(var b=0;b<c.transceivers.length;b++)if(c.transceivers[b].mid===a.sdpMid){m=b;break}}var R=c.transceivers[m];if(R){if(R.rejected)return u();var T=Object.keys(a.candidate).length>0?F.parseCandidate(a.candidate):{};if(T.protocol==="tcp"&&(T.port===0||T.port===9)||T.component&&T.component!==1)return u();if((m===0||m>0&&R.iceTransport!==c.transceivers[0].iceTransport)&&!nn(R.iceTransport,T))return p(pe("OperationError","Can not add ICE candidate"));var M=a.candidate.trim();M.indexOf("a=")===0&&(M=M.substr(2)),f=F.getMediaSections(c._remoteDescription.sdp),f[m]+="a="+(T.type?M:"end-of-candidates")+`\r
`,c._remoteDescription.sdp=F.getDescription(c._remoteDescription.sdp)+f.join("")}else return p(pe("OperationError","Can not add ICE candidate"))}else return p(pe("InvalidStateError","Can not add ICE candidate without a remote description"));u()})},o.prototype.getStats=function(a){if(a&&a instanceof e.MediaStreamTrack){var c=null;if(this.transceivers.forEach(function(u){u.rtpSender&&u.rtpSender.track===a?c=u.rtpSender:u.rtpReceiver&&u.rtpReceiver.track===a&&(c=u.rtpReceiver)}),!c)throw pe("InvalidAccessError","Invalid selector.");return c.getStats()}var f=[];return this.transceivers.forEach(function(u){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(p){u[p]&&f.push(u[p].getStats())})}),Promise.all(f).then(function(u){var p=new Map;return u.forEach(function(g){g.forEach(function(m){p.set(m.id,m)})}),p})};var s=["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"];s.forEach(function(a){var c=e[a];if(c&&c.prototype&&c.prototype.getStats){var f=c.prototype.getStats;c.prototype.getStats=function(){return f.apply(this).then(function(u){var p=new Map;return Object.keys(u).forEach(function(g){u[g].type=Bl(u[g]),p.set(g,u[g])}),p})}}});var l=["createOffer","createAnswer"];return l.forEach(function(a){var c=o.prototype[a];o.prototype[a]=function(){var f=arguments;return typeof f[0]=="function"||typeof f[1]=="function"?c.apply(this,[arguments[2]]).then(function(u){typeof f[0]=="function"&&f[0].apply(null,[u])},function(u){typeof f[1]=="function"&&f[1].apply(null,[u])}):c.apply(this,arguments)}}),l=["setLocalDescription","setRemoteDescription","addIceCandidate"],l.forEach(function(a){var c=o.prototype[a];o.prototype[a]=function(){var f=arguments;return typeof f[1]=="function"||typeof f[2]=="function"?c.apply(this,arguments).then(function(){typeof f[1]=="function"&&f[1].apply(null)},function(u){typeof f[2]=="function"&&f[2].apply(null,[u])}):c.apply(this,arguments)}}),["getStats"].forEach(function(a){var c=o.prototype[a];o.prototype[a]=function(){var f=arguments;return typeof f[1]=="function"?c.apply(this,arguments).then(function(){typeof f[1]=="function"&&f[1].apply(null)}):c.apply(this,arguments)}}),o};function xs(e){const t=e&&e.navigator,r=function(i){return{name:{PermissionDeniedError:"NotAllowedError"}[i.name]||i.name,message:i.message,constraint:i.constraint,toString(){return this.name}}},n=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(i){return n(i).catch(o=>Promise.reject(r(o)))}}function Es(e){"getDisplayMedia"in e.navigator&&(!e.navigator.mediaDevices||e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}function En(e,t){if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(i){return i}),e.RTCSessionDescription||(e.RTCSessionDescription=function(i){return i}),t.version<15025)){const n=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set(i){n.set.call(this,i);const o=new Event("enabled");o.enabled=i,this.dispatchEvent(o)}})}e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)&&Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=new e.RTCDtmfSender(this):this.track.kind==="video"&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);const r=$l(e,t.version);e.RTCPeerConnection=function(i){return i&&i.iceServers&&(i.iceServers=Fl(i.iceServers,t.version),ii("ICE servers after filtering:",i.iceServers)),new r(i)},e.RTCPeerConnection.prototype=r.prototype}function Rs(e){e.RTCRtpSender&&!("replaceTrack"in e.RTCRtpSender.prototype)&&(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}const qi=Object.freeze(Object.defineProperty({__proto__:null,shimPeerConnection:En,shimReplaceTrack:Rs,shimGetUserMedia:xs,shimGetDisplayMedia:Es},Symbol.toStringTag,{value:"Module"}));function Os(e,t){const r=e&&e.navigator,n=e&&e.MediaStreamTrack;if(r.getUserMedia=function(i,o,s){Jr("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(i).then(o,s)},!(t.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){const i=function(s,l,a){l in s&&!(a in s)&&(s[a]=s[l],delete s[l])},o=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(s){return typeof s=="object"&&typeof s.audio=="object"&&(s=JSON.parse(JSON.stringify(s)),i(s.audio,"autoGainControl","mozAutoGainControl"),i(s.audio,"noiseSuppression","mozNoiseSuppression")),o(s)},n&&n.prototype.getSettings){const s=n.prototype.getSettings;n.prototype.getSettings=function(){const l=s.apply(this,arguments);return i(l,"mozAutoGainControl","autoGainControl"),i(l,"mozNoiseSuppression","noiseSuppression"),l}}if(n&&n.prototype.applyConstraints){const s=n.prototype.applyConstraints;n.prototype.applyConstraints=function(l){return this.kind==="audio"&&typeof l=="object"&&(l=JSON.parse(JSON.stringify(l)),i(l,"autoGainControl","mozAutoGainControl"),i(l,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[l])}}}}function Nl(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||!e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!(n&&n.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return n.video===!0?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}function Ms(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Rn(e,t){if(typeof e!="object"||!(e.RTCPeerConnection||e.mozRTCPeerConnection))return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const o=e.RTCPeerConnection.prototype[i],s={[i](){return arguments[0]=new(i==="addIceCandidate"?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),o.apply(this,arguments)}};e.RTCPeerConnection.prototype[i]=s[i]});const r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[o,s,l]=arguments;return n.apply(this,[o||null]).then(a=>{if(t.version<53&&!s)try{a.forEach(c=>{c.type=r[c.type]||c.type})}catch(c){if(c.name!=="TypeError")throw c;a.forEach((f,u)=>{a.set(u,Object.assign({},f,{type:r[f.type]||f.type}))})}return a}).then(s,l)}}function Ds(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const i=t.apply(this,[]);return i.forEach(o=>o._pc=this),i});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const i=r.apply(this,arguments);return i._pc=this,i}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Is(e){if(!(typeof e=="object"&&e.RTCPeerConnection&&e.RTCRtpSender)||e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const n=t.apply(this,[]);return n.forEach(i=>i._pc=this),n}),Ft(e,"track",r=>(r.receiver._pc=r.srcElement,r)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function As(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(r){Jr("removeStream","removeTrack"),this.getSenders().forEach(n=>{n.track&&r.getTracks().includes(n.track)&&this.removeTrack(n)})})}function js(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function Fs(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const n=arguments[1],i=n&&"sendEncodings"in n;i&&n.sendEncodings.forEach(s=>{if("rid"in s&&!/^[a-z0-9]{0,16}$/i.test(s.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in s&&!(parseFloat(s.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in s&&!(parseFloat(s.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const o=t.apply(this,arguments);if(i){const{sender:s}=o,l=s.getParameters();(!("encodings"in l)||l.encodings.length===1&&Object.keys(l.encodings[0]).length===0)&&(l.encodings=n.sendEncodings,s.sendEncodings=n.sendEncodings,this.setParametersPromises.push(s.setParameters(l).then(()=>{delete s.sendEncodings}).catch(()=>{delete s.sendEncodings})))}return o})}function Bs(e){if(!(typeof e=="object"&&e.RTCRtpSender))return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const n=t.apply(this,arguments);return"encodings"in n||(n.encodings=[].concat(this.sendEncodings||[{}])),n})}function Ls(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function $s(e){if(!(typeof e=="object"&&e.RTCPeerConnection))return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}const Yi=Object.freeze(Object.defineProperty({__proto__:null,shimOnTrack:Ms,shimPeerConnection:Rn,shimSenderGetStats:Ds,shimReceiverGetStats:Is,shimRemoveStream:As,shimRTCDataChannel:js,shimAddTransceiver:Fs,shimGetParameters:Bs,shimCreateOffer:Ls,shimCreateAnswer:$s,shimGetUserMedia:Os,shimGetDisplayMedia:Nl},Symbol.toStringTag,{value:"Module"}));function Ns(e){if(!(typeof e!="object"||!e.RTCPeerConnection)){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(n){this._localStreams||(this._localStreams=[]),this._localStreams.includes(n)||this._localStreams.push(n),n.getAudioTracks().forEach(i=>t.call(this,i,n)),n.getVideoTracks().forEach(i=>t.call(this,i,n))},e.RTCPeerConnection.prototype.addTrack=function(n,...i){return i&&i.forEach(o=>{this._localStreams?this._localStreams.includes(o)||this._localStreams.push(o):this._localStreams=[o]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(r){this._localStreams||(this._localStreams=[]);const n=this._localStreams.indexOf(r);if(n===-1)return;this._localStreams.splice(n,1);const i=r.getTracks();this.getSenders().forEach(o=>{i.includes(o.track)&&this.removeTrack(o)})})}}function Us(e){if(!(typeof e!="object"||!e.RTCPeerConnection)&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(r){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=r),this.addEventListener("track",this._onaddstreampoly=n=>{n.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const o=new Event("addstream");o.stream=i,this.dispatchEvent(o)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const n=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(o=>{if(n._remoteStreams||(n._remoteStreams=[]),n._remoteStreams.indexOf(o)>=0)return;n._remoteStreams.push(o);const s=new Event("addstream");s.stream=o,n.dispatchEvent(s)})}),t.apply(n,arguments)}}}function zs(e){if(typeof e!="object"||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,r=t.createOffer,n=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(c,f){const u=arguments.length>=2?arguments[2]:arguments[0],p=r.apply(this,[u]);return f?(p.then(c,f),Promise.resolve()):p},t.createAnswer=function(c,f){const u=arguments.length>=2?arguments[2]:arguments[0],p=n.apply(this,[u]);return f?(p.then(c,f),Promise.resolve()):p};let l=function(a,c,f){const u=i.apply(this,[a]);return f?(u.then(c,f),Promise.resolve()):u};t.setLocalDescription=l,l=function(a,c,f){const u=o.apply(this,[a]);return f?(u.then(c,f),Promise.resolve()):u},t.setRemoteDescription=l,l=function(a,c,f){const u=s.apply(this,[a]);return f?(u.then(c,f),Promise.resolve()):u},t.addIceCandidate=l}function ws(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const r=t.mediaDevices,n=r.getUserMedia.bind(r);t.mediaDevices.getUserMedia=i=>n(Gs(i))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(n,i,o){t.mediaDevices.getUserMedia(n).then(i,o)}.bind(t))}function Gs(e){return e&&e.video!==void 0?Object.assign({},e,{video:gs(e.video)}):e}function Hs(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(n,i){if(n&&n.iceServers){const o=[];for(let s=0;s<n.iceServers.length;s++){let l=n.iceServers[s];!l.hasOwnProperty("urls")&&l.hasOwnProperty("url")?(Jr("RTCIceServer.url","RTCIceServer.urls"),l=JSON.parse(JSON.stringify(l)),l.urls=l.url,delete l.url,o.push(l)):o.push(n.iceServers[s])}n.iceServers=o}return new t(n,i)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get(){return t.generateCertificate}})}function Js(e){typeof e=="object"&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Ks(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(n){if(n){typeof n.offerToReceiveAudio<"u"&&(n.offerToReceiveAudio=!!n.offerToReceiveAudio);const i=this.getTransceivers().find(s=>s.receiver.track.kind==="audio");n.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):n.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio"),typeof n.offerToReceiveVideo<"u"&&(n.offerToReceiveVideo=!!n.offerToReceiveVideo);const o=this.getTransceivers().find(s=>s.receiver.track.kind==="video");n.offerToReceiveVideo===!1&&o?o.direction==="sendrecv"?o.setDirection?o.setDirection("sendonly"):o.direction="sendonly":o.direction==="recvonly"&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive"):n.offerToReceiveVideo===!0&&!o&&this.addTransceiver("video")}return t.apply(this,arguments)}}function Vs(e){typeof e!="object"||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}const Xi=Object.freeze(Object.defineProperty({__proto__:null,shimLocalStreamsAPI:Ns,shimRemoteStreamsAPI:Us,shimCallbacksAPI:zs,shimGetUserMedia:ws,shimConstraints:Gs,shimRTCIceServerUrls:Hs,shimTrackEventTransceiver:Js,shimCreateOfferLegacy:Ks,shimAudioContext:Vs},Symbol.toStringTag,{value:"Module"}));function yr(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(n){if(typeof n=="object"&&n.candidate&&n.candidate.indexOf("a=")===0&&(n=JSON.parse(JSON.stringify(n)),n.candidate=n.candidate.substr(2)),n.candidate&&n.candidate.length){const i=new t(n),o=vr.parseCandidate(n.candidate),s=Object.assign(i,o);return s.toJSON=function(){return{candidate:s.candidate,sdpMid:s.sdpMid,sdpMLineIndex:s.sdpMLineIndex,usernameFragment:s.usernameFragment}},s}return new t(n)},e.RTCIceCandidate.prototype=t.prototype,Ft(e,"icecandidate",r=>(r.candidate&&Object.defineProperty(r,"candidate",{value:new e.RTCIceCandidate(r.candidate),writable:"false"}),r))}function Jt(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const r=function(l){if(!l||!l.sdp)return!1;const a=vr.splitSections(l.sdp);return a.shift(),a.some(c=>{const f=vr.parseMLine(c);return f&&f.kind==="application"&&f.protocol.indexOf("SCTP")!==-1})},n=function(l){const a=l.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(a===null||a.length<2)return-1;const c=parseInt(a[1],10);return c!==c?-1:c},i=function(l){let a=65536;return t.browser==="firefox"&&(t.version<57?l===-1?a=16384:a=2147483637:t.version<60?a=t.version===57?65535:65536:a=2147483637),a},o=function(l,a){let c=65536;t.browser==="firefox"&&t.version===57&&(c=65535);const f=vr.matchPrefix(l.sdp,"a=max-message-size:");return f.length>0?c=parseInt(f[0].substr(19),10):t.browser==="firefox"&&a!==-1&&(c=2147483637),c},s=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,t.browser==="chrome"&&t.version>=76){const{sdpSemantics:a}=this.getConfiguration();a==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(r(arguments[0])){const a=n(arguments[0]),c=i(a),f=o(arguments[0],a);let u;c===0&&f===0?u=Number.POSITIVE_INFINITY:c===0||f===0?u=Math.max(c,f):u=Math.min(c,f);const p={};Object.defineProperty(p,"maxMessageSize",{get(){return u}}),this._sctp=p}return s.apply(this,arguments)}}function Kt(e){if(!(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype))return;function t(n,i){const o=n.send;n.send=function(){const l=arguments[0],a=l.length||l.size||l.byteLength;if(n.readyState==="open"&&i.sctp&&a>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return o.apply(n,arguments)}}const r=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const i=r.apply(this,arguments);return t(i,this),i},Ft(e,"datachannel",n=>(t(n.channel,n.target),n))}function On(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(r){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),r&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=r)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(r=>{const n=t[r];t[r]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const o=i.target;if(o._lastConnectionState!==o.connectionState){o._lastConnectionState=o.connectionState;const s=new Event("connectionstatechange",i);o.dispatchEvent(s)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}function Mn(e,t){if(!e.RTCPeerConnection||t.browser==="chrome"&&t.version>=71||t.browser==="safari"&&t.version>=605)return;const r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const o=i.sdp.split(`
`).filter(s=>s.trim()!=="a=extmap-allow-mixed").join(`
`);e.RTCSessionDescription&&i instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:i.type,sdp:o}):i.sdp=o}return r.apply(this,arguments)}}function _r(e,t){if(!(e.RTCPeerConnection&&e.RTCPeerConnection.prototype))return;const r=e.RTCPeerConnection.prototype.addIceCandidate;!r||r.length===0||(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(t.browser==="chrome"&&t.version<78||t.browser==="firefox"&&t.version<68||t.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}const Ul=Object.freeze(Object.defineProperty({__proto__:null,shimRTCIceCandidate:yr,shimMaxMessageSize:Jt,shimSendThrowTypeError:Kt,shimConnectionState:On,removeExtmapAllowMixed:Mn,shimAddIceCandidateNullOrEmpty:_r},Symbol.toStringTag,{value:"Module"}));function zl({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0}){const r=ii,n=Al(e),i={browserDetails:n,commonShim:Ul,extractVersion:Ht,disableLog:Dl,disableWarnings:Il};switch(n.browser){case"chrome":if(!Ki||!xn||!t.shimChrome)return r("Chrome shim is not included in this adapter release."),i;if(n.version===null)return r("Chrome shim can not determine version, not shimming."),i;r("adapter.js shimming chrome."),i.browserShim=Ki,_r(e,n),vs(e,n),ys(e),xn(e,n),_s(e),Ps(e,n),bs(e),Cs(e),Ss(e),ks(e,n),yr(e),On(e),Jt(e,n),Kt(e),Mn(e,n);break;case"firefox":if(!Yi||!Rn||!t.shimFirefox)return r("Firefox shim is not included in this adapter release."),i;r("adapter.js shimming firefox."),i.browserShim=Yi,_r(e,n),Os(e,n),Rn(e,n),Ms(e),As(e),Ds(e),Is(e),js(e),Fs(e),Bs(e),Ls(e),$s(e),yr(e),On(e),Jt(e,n),Kt(e);break;case"edge":if(!qi||!En||!t.shimEdge)return r("MS edge shim is not included in this adapter release."),i;r("adapter.js shimming edge."),i.browserShim=qi,xs(e),Es(e),En(e,n),Rs(e),Jt(e,n),Kt(e);break;case"safari":if(!Xi||!t.shimSafari)return r("Safari shim is not included in this adapter release."),i;r("adapter.js shimming safari."),i.browserShim=Xi,_r(e,n),Hs(e),Ks(e),zs(e),Ns(e),Us(e),Js(e),ws(e),Vs(e),yr(e),Jt(e,n),Kt(e),Mn(e,n);break;default:r("Unsupported browser!");break}return i}const Qi=zl({window:typeof window>"u"?void 0:window});function Ge(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}var on=Qi.default||Qi,Ut=new(function(){function e(){this.isIOS=["iPad","iPhone","iPod"].includes(navigator.platform),this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}return e.prototype.isWebRTCSupported=function(){return typeof RTCPeerConnection<"u"},e.prototype.isBrowserSupported=function(){var t=this.getBrowser(),r=this.getVersion(),n=this.supportedBrowsers.includes(t);return n?t==="chrome"?r>=this.minChromeVersion:t==="firefox"?r>=this.minFirefoxVersion:t==="safari"?!this.isIOS&&r>=this.minSafariVersion:!1:!1},e.prototype.getBrowser=function(){return on.browserDetails.browser},e.prototype.getVersion=function(){return on.browserDetails.version||0},e.prototype.isUnifiedPlanSupported=function(){var t=this.getBrowser(),r=on.browserDetails.version||0;if(t==="chrome"&&r<this.minChromeVersion)return!1;if(t==="firefox"&&r>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;var n,i=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),i=!0}catch{}finally{n&&n.close()}return i},e.prototype.toString=function(){return`Supports:
    browser:`.concat(this.getBrowser(),`
    version:`).concat(this.getVersion(),`
    isIOS:`).concat(this.isIOS,`
    isWebRTCSupported:`).concat(this.isWebRTCSupported(),`
    isBrowserSupported:`).concat(this.isBrowserSupported(),`
    isUnifiedPlanSupported:`).concat(this.isUnifiedPlanSupported())},e}()),Zi={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"},wl=function(){function e(){this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.chunkedMTU=16300,this.defaultConfig=Zi,this.browser=Ut.getBrowser(),this.browserVersion=Ut.getVersion(),this.supports=function(){var t={browser:Ut.isBrowserSupported(),webRTC:Ut.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!t.webRTC)return t;var r;try{r=new RTCPeerConnection(Zi),t.audioVideo=!0;var n=void 0;try{n=r.createDataChannel("_PEERJSTEST",{ordered:!0}),t.data=!0,t.reliable=!!n.ordered;try{n.binaryType="blob",t.binaryBlob=!Ut.isIOS}catch{}}catch{}finally{n&&n.close()}}catch{}finally{r&&r.close()}return t}(),this.pack=wi.pack,this.unpack=wi.unpack,this._dataCount=1}return e.prototype.noop=function(){},e.prototype.validateId=function(t){return!t||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(t)},e.prototype.chunk=function(t){for(var r=[],n=t.size,i=Math.ceil(n/K.chunkedMTU),o=0,s=0;s<n;){var l=Math.min(n,s+K.chunkedMTU),a=t.slice(s,l),c={__peerData:this._dataCount,n:o,data:a,total:i};r.push(c),s=l,o++}return this._dataCount++,r},e.prototype.blobToArrayBuffer=function(t,r){var n=new FileReader;return n.onload=function(i){i.target&&r(i.target.result)},n.readAsArrayBuffer(t),n},e.prototype.binaryStringToArrayBuffer=function(t){for(var r=new Uint8Array(t.length),n=0;n<t.length;n++)r[n]=t.charCodeAt(n)&255;return r.buffer},e.prototype.randomToken=function(){return Math.random().toString(36).slice(2)},e.prototype.isSecure=function(){return location.protocol==="https:"},e}(),K=new wl,Ws={};Ge(Ws,"Peer",()=>An,e=>An=e);var ir={},Gl=Object.prototype.hasOwnProperty,ye="~";function nr(){}Object.create&&(nr.prototype=Object.create(null),new nr().__proto__||(ye=!1));function Hl(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function qs(e,t,r,n,i){if(typeof r!="function")throw new TypeError("The listener must be a function");var o=new Hl(r,n||e,i),s=ye?ye+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],o]:e._events[s].push(o):(e._events[s]=o,e._eventsCount++),e}function br(e,t){--e._eventsCount===0?e._events=new nr:delete e._events[t]}function ge(){this._events=new nr,this._eventsCount=0}ge.prototype.eventNames=function(){var t=[],r,n;if(this._eventsCount===0)return t;for(n in r=this._events)Gl.call(r,n)&&t.push(ye?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(r)):t};ge.prototype.listeners=function(t){var r=ye?ye+t:t,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s};ge.prototype.listenerCount=function(t){var r=ye?ye+t:t,n=this._events[r];return n?n.fn?1:n.length:0};ge.prototype.emit=function(t,r,n,i,o,s){var l=ye?ye+t:t;if(!this._events[l])return!1;var a=this._events[l],c=arguments.length,f,u;if(a.fn){switch(a.once&&this.removeListener(t,a.fn,void 0,!0),c){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,r),!0;case 3:return a.fn.call(a.context,r,n),!0;case 4:return a.fn.call(a.context,r,n,i),!0;case 5:return a.fn.call(a.context,r,n,i,o),!0;case 6:return a.fn.call(a.context,r,n,i,o,s),!0}for(u=1,f=new Array(c-1);u<c;u++)f[u-1]=arguments[u];a.fn.apply(a.context,f)}else{var p=a.length,g;for(u=0;u<p;u++)switch(a[u].once&&this.removeListener(t,a[u].fn,void 0,!0),c){case 1:a[u].fn.call(a[u].context);break;case 2:a[u].fn.call(a[u].context,r);break;case 3:a[u].fn.call(a[u].context,r,n);break;case 4:a[u].fn.call(a[u].context,r,n,i);break;default:if(!f)for(g=1,f=new Array(c-1);g<c;g++)f[g-1]=arguments[g];a[u].fn.apply(a[u].context,f)}}return!0};ge.prototype.on=function(t,r,n){return qs(this,t,r,n,!1)};ge.prototype.once=function(t,r,n){return qs(this,t,r,n,!0)};ge.prototype.removeListener=function(t,r,n,i){var o=ye?ye+t:t;if(!this._events[o])return this;if(!r)return br(this,o),this;var s=this._events[o];if(s.fn)s.fn===r&&(!i||s.once)&&(!n||s.context===n)&&br(this,o);else{for(var l=0,a=[],c=s.length;l<c;l++)(s[l].fn!==r||i&&!s[l].once||n&&s[l].context!==n)&&a.push(s[l]);a.length?this._events[o]=a.length===1?a[0]:a:br(this,o)}return this};ge.prototype.removeAllListeners=function(t){var r;return t?(r=ye?ye+t:t,this._events[r]&&br(this,r)):(this._events=new nr,this._eventsCount=0),this};ge.prototype.off=ge.prototype.removeListener;ge.prototype.addListener=ge.prototype.on;ge.prefixed=ye;ge.EventEmitter=ge;ir=ge;var E={};Ge(E,"LogLevel",()=>Ce,e=>Ce=e);Ge(E,"default",()=>eo,e=>eo=e);var dt=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},ht=function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))},Jl="PeerJS: ",Ce;(function(e){e[e.Disabled=0]="Disabled",e[e.Errors=1]="Errors",e[e.Warnings=2]="Warnings",e[e.All=3]="All"})(Ce||(Ce={}));var Kl=function(){function e(){this._logLevel=Ce.Disabled}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.log=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._logLevel>=Ce.All&&this._print.apply(this,ht([Ce.All],dt(t),!1))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._logLevel>=Ce.Warnings&&this._print.apply(this,ht([Ce.Warnings],dt(t),!1))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this._logLevel>=Ce.Errors&&this._print.apply(this,ht([Ce.Errors],dt(t),!1))},e.prototype.setLogFunction=function(t){this._print=t},e.prototype._print=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=ht([Jl],dt(r),!1);for(var o in i)i[o]instanceof Error&&(i[o]="("+i[o].name+") "+i[o].message);t>=Ce.All?console.log.apply(console,ht([],dt(i),!1)):t>=Ce.Warnings?console.warn.apply(console,ht(["WARNING"],dt(i),!1)):t>=Ce.Errors&&console.error.apply(console,ht(["ERROR"],dt(i),!1))},e}(),eo=new Kl,Ys={};Ge(Ys,"Socket",()=>to,e=>to=e);var Fe;(function(e){e.Data="data",e.Media="media"})(Fe||(Fe={}));var ee;(function(e){e.BrowserIncompatible="browser-incompatible",e.Disconnected="disconnected",e.InvalidID="invalid-id",e.InvalidKey="invalid-key",e.Network="network",e.PeerUnavailable="peer-unavailable",e.SslUnavailable="ssl-unavailable",e.ServerError="server-error",e.SocketError="socket-error",e.SocketClosed="socket-closed",e.UnavailableID="unavailable-id",e.WebRTC="webrtc"})(ee||(ee={}));var We;(function(e){e.Binary="binary",e.BinaryUTF8="binary-utf8",e.JSON="json"})(We||(We={}));var Xe;(function(e){e.Message="message",e.Disconnected="disconnected",e.Error="error",e.Close="close"})(Xe||(Xe={}));var se;(function(e){e.Heartbeat="HEARTBEAT",e.Candidate="CANDIDATE",e.Offer="OFFER",e.Answer="ANSWER",e.Open="OPEN",e.Error="ERROR",e.IdTaken="ID-TAKEN",e.InvalidKey="INVALID-KEY",e.Leave="LEAVE",e.Expire="EXPIRE"})(se||(se={}));var si={};si=JSON.parse('{"name":"peerjs","version":"1.4.7","keywords":["peerjs","webrtc","p2p","rtc"],"description":"PeerJS client","homepage":"https://peerjs.com","bugs":{"url":"https://github.com/peers/peerjs/issues"},"repository":{"type":"git","url":"https://github.com/peers/peerjs"},"license":"MIT","contributors":["Michelle Bu <michelle@michellebu.com>","afrokick <devbyru@gmail.com>","ericz <really.ez@gmail.com>","Jairo <kidandcat@gmail.com>","Jonas Gloning <34194370+jonasgloning@users.noreply.github.com>","Jairo Caro-Accino Viciana <jairo@galax.be>","Carlos Caballero <carlos.caballero.gonzalez@gmail.com>","hc <hheennrryy@gmail.com>","Muhammad Asif <capripio@gmail.com>","PrashoonB <prashoonbhattacharjee@gmail.com>","Harsh Bardhan Mishra <47351025+HarshCasper@users.noreply.github.com>","akotynski <aleksanderkotbury@gmail.com>","lmb <i@lmb.io>","Jairooo <jairocaro@msn.com>","Moritz St\xFCckler <moritz.stueckler@gmail.com>","Simon <crydotsnakegithub@gmail.com>","Denis Lukov <denismassters@gmail.com>","Philipp Hancke <fippo@andyet.net>","Hans Oksendahl <hansoksendahl@gmail.com>","Jess <jessachandler@gmail.com>","khankuan <khankuan@gmail.com>","DUODVK <kurmanov.work@gmail.com>","XiZhao <kwang1imsa@gmail.com>","Matthias Lohr <matthias@lohr.me>","=frank tree <=frnktrb@googlemail.com>","Andre Eckardt <aeckardt@outlook.com>","Chris Cowan <agentme49@gmail.com>","Alex Chuev <alex@chuev.com>","alxnull <alxnull@e.mail.de>","Yemel Jardi <angel.jardi@gmail.com>","Ben Parnell <benjaminparnell.94@gmail.com>","Benny Lichtner <bennlich@gmail.com>","fresheneesz <bitetrudpublic@gmail.com>","bob.barstead@exaptive.com <bob.barstead@exaptive.com>","chandika <chandika@gmail.com>","emersion <contact@emersion.fr>","Christopher Van <cvan@users.noreply.github.com>","eddieherm <edhermoso@gmail.com>","Eduardo Pinho <enet4mikeenet@gmail.com>","Evandro Zanatta <ezanatta@tray.net.br>","Gardner Bickford <gardner@users.noreply.github.com>","Gian Luca <gianluca.cecchi@cynny.com>","PatrickJS <github@gdi2290.com>","jonnyf <github@jonathanfoss.co.uk>","Hizkia Felix <hizkifw@gmail.com>","Hristo Oskov <hristo.oskov@gmail.com>","Isaac Madwed <i.madwed@gmail.com>","Ilya Konanykhin <ilya.konanykhin@gmail.com>","jasonbarry <jasbarry@me.com>","Jonathan Burke <jonathan.burke.1311@googlemail.com>","Josh Hamit <josh.hamit@gmail.com>","Jordan Austin <jrax86@gmail.com>","Joel Wetzell <jwetzell@yahoo.com>","xizhao <kevin.wang@cloudera.com>","Alberto Torres <kungfoobar@gmail.com>","Jonathan Mayol <mayoljonathan@gmail.com>","Jefferson Felix <me@jsfelix.dev>","Rolf Erik Lekang <me@rolflekang.com>","Kevin Mai-Husan Chia <mhchia@users.noreply.github.com>","Pepijn de Vos <pepijndevos@gmail.com>","JooYoung <qkdlql@naver.com>","Tobias Speicher <rootcommander@gmail.com>","Steve Blaurock <sblaurock@gmail.com>","Kyrylo Shegeda <shegeda@ualberta.ca>","Diwank Singh Tomer <singh@diwank.name>","So\u0308ren Balko <Soeren.Balko@gmail.com>","Arpit Solanki <solankiarpit1997@gmail.com>","Yuki Ito <yuki@gnnk.net>","Artur Zayats <zag2art@gmail.com>"],"funding":{"type":"opencollective","url":"https://opencollective.com/peer"},"collective":{"type":"opencollective","url":"https://opencollective.com/peer"},"files":["dist/*"],"sideEffects":["lib/global.ts","lib/supports.ts"],"main":"dist/bundler.cjs","module":"dist/bundler.mjs","browser-minified":"dist/peerjs.min.js","browser-unminified":"dist/peerjs.js","types":"dist/types.d.ts","engines":{"node":">= 10"},"targets":{"types":{"source":"lib/exports.ts"},"main":{"source":"lib/exports.ts","sourceMap":{"inlineSources":true}},"module":{"source":"lib/exports.ts","includeNodeModules":["eventemitter3"],"sourceMap":{"inlineSources":true}},"browser-minified":{"context":"browser","outputFormat":"global","optimize":true,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"},"browser-unminified":{"context":"browser","outputFormat":"global","optimize":false,"engines":{"browsers":"cover 99%, not dead"},"source":"lib/global.ts"}},"scripts":{"contributors":"git-authors-cli --print=false && prettier --write package.json && git add package.json package-lock.json && git commit -m \\"chore(contributors): update and sort contributors list\\"","check":"tsc --noEmit","watch":"parcel watch","build":"rm -rf dist && parcel build","prepublishOnly":"npm run build","test":"mocha -r ts-node/register -r jsdom-global/register test/**/*.ts","format":"prettier --write .","semantic-release":"semantic-release"},"devDependencies":{"@parcel/config-default":"^2.5.0","@parcel/packager-ts":"^2.5.0","@parcel/transformer-typescript-tsc":"^2.5.0","@parcel/transformer-typescript-types":"^2.5.0","@semantic-release/changelog":"^6.0.1","@semantic-release/git":"^10.0.1","@types/chai":"^4.3.0","@types/mocha":"^9.1.0","@types/node":"^17.0.18","chai":"^4.3.6","git-authors-cli":"^1.0.40","jsdom":"^19.0.0","jsdom-global":"^3.0.2","mocha":"^9.2.0","mock-socket":"8.0.5","parcel":"^2.5.0","parcel-transformer-tsc-sourcemaps":"^1.0.2","prettier":"^2.6.2","semantic-release":"^19.0.2","standard":"^16.0.4","ts-node":"^10.5.0","typescript":"^4.5.5"},"dependencies":{"@swc/helpers":"^0.3.13","eventemitter3":"^4.0.7","peerjs-js-binarypack":"1.0.1","webrtc-adapter":"^7.7.1"}}');var Vl=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Wl=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},ql=function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))},Yl=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},to=function(e){Vl(t,e);function t(r,n,i,o,s,l){l===void 0&&(l=5e3);var a=e.call(this)||this;a.pingInterval=l,a._disconnected=!0,a._messagesQueue=[];var c=r?"wss://":"ws://";return a._baseUrl=c+n+":"+i+o+"peerjs?key="+s,a}return t.prototype.start=function(r,n){var i=this;this._id=r;var o="".concat(this._baseUrl,"&id=").concat(r,"&token=").concat(n);!!this._socket||!this._disconnected||(this._socket=new WebSocket(o+"&version="+si.version),this._disconnected=!1,this._socket.onmessage=function(s){var l;try{l=JSON.parse(s.data),E.default.log("Server message received:",l)}catch{E.default.log("Invalid server message",s.data);return}i.emit(Xe.Message,l)},this._socket.onclose=function(s){i._disconnected||(E.default.log("Socket closed.",s),i._cleanup(),i._disconnected=!0,i.emit(Xe.Disconnected))},this._socket.onopen=function(){i._disconnected||(i._sendQueuedMessages(),E.default.log("Socket open"),i._scheduleHeartbeat())})},t.prototype._scheduleHeartbeat=function(){var r=this;this._wsPingTimer=setTimeout(function(){r._sendHeartbeat()},this.pingInterval)},t.prototype._sendHeartbeat=function(){if(!this._wsOpen()){E.default.log("Cannot send heartbeat, because socket closed");return}var r=JSON.stringify({type:se.Heartbeat});this._socket.send(r),this._scheduleHeartbeat()},t.prototype._wsOpen=function(){return!!this._socket&&this._socket.readyState===1},t.prototype._sendQueuedMessages=function(){var r,n,i=ql([],Wl(this._messagesQueue),!1);this._messagesQueue=[];try{for(var o=Yl(i),s=o.next();!s.done;s=o.next()){var l=s.value;this.send(l)}}catch(a){r={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},t.prototype.send=function(r){if(!this._disconnected){if(!this._id){this._messagesQueue.push(r);return}if(!r.type){this.emit(Xe.Error,"Invalid message");return}if(!!this._wsOpen()){var n=JSON.stringify(r);this._socket.send(n)}}},t.prototype.close=function(){this._disconnected||(this._cleanup(),this._disconnected=!0)},t.prototype._cleanup=function(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)},t}(ir.EventEmitter),Dn={};Ge(Dn,"MediaConnection",()=>io,e=>io=e);var ai={};Ge(ai,"Negotiator",()=>ro,e=>ro=e);var Er=function(){return Er=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Er.apply(this,arguments)},ur=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function l(f){try{c(n.next(f))}catch(u){s(u)}}function a(f){try{c(n.throw(f))}catch(u){s(u)}}function c(f){f.done?o(f.value):i(f.value).then(l,a)}c((n=n.apply(e,t||[])).next())})},pr=function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(c){return function(f){return a([c,f])}}function a(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},ro=function(){function e(t){this.connection=t}return e.prototype.startConnection=function(t){var r=this._startPeerConnection();if(this.connection.peerConnection=r,this.connection.type===Fe.Media&&t._stream&&this._addTracksToConnection(t._stream,r),t.originator){if(this.connection.type===Fe.Data){var n=this.connection,i={ordered:!!t.reliable},o=r.createDataChannel(n.label,i);n.initialize(o)}this._makeOffer()}else this.handleSDP("OFFER",t.sdp)},e.prototype._startPeerConnection=function(){E.default.log("Creating RTCPeerConnection.");var t=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(t),t},e.prototype._setupListeners=function(t){var r=this,n=this.connection.peer,i=this.connection.connectionId,o=this.connection.type,s=this.connection.provider;E.default.log("Listening for ICE candidates."),t.onicecandidate=function(l){!l.candidate||!l.candidate.candidate||(E.default.log("Received ICE candidates for ".concat(n,":"),l.candidate),s.socket.send({type:se.Candidate,payload:{candidate:l.candidate,type:o,connectionId:i},dst:n}))},t.oniceconnectionstatechange=function(){switch(t.iceConnectionState){case"failed":E.default.log("iceConnectionState is failed, closing connections to "+n),r.connection.emit("error",new Error("Negotiation of connection to "+n+" failed.")),r.connection.close();break;case"closed":E.default.log("iceConnectionState is closed, closing connections to "+n),r.connection.emit("error",new Error("Connection to "+n+" closed.")),r.connection.close();break;case"disconnected":E.default.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":t.onicecandidate=K.noop;break}r.connection.emit("iceStateChanged",t.iceConnectionState)},E.default.log("Listening for data channel"),t.ondatachannel=function(l){E.default.log("Received data channel");var a=l.channel,c=s.getConnection(n,i);c.initialize(a)},E.default.log("Listening for remote stream"),t.ontrack=function(l){E.default.log("Received remote stream");var a=l.streams[0],c=s.getConnection(n,i);if(c.type===Fe.Media){var f=c;r._addStreamToMediaConnection(a,f)}}},e.prototype.cleanup=function(){E.default.log("Cleaning up PeerConnection to "+this.connection.peer);var t=this.connection.peerConnection;if(!!t){this.connection.peerConnection=null,t.onicecandidate=t.oniceconnectionstatechange=t.ondatachannel=t.ontrack=function(){};var r=t.signalingState!=="closed",n=!1;if(this.connection.type===Fe.Data){var i=this.connection,o=i.dataChannel;o&&(n=!!o.readyState&&o.readyState!=="closed")}(r||n)&&t.close()}},e.prototype._makeOffer=function(){return ur(this,void 0,Promise,function(){var t,r,n,i,o,s,l;return pr(this,function(a){switch(a.label){case 0:t=this.connection.peerConnection,r=this.connection.provider,a.label=1;case 1:return a.trys.push([1,7,,8]),[4,t.createOffer(this.connection.options.constraints)];case 2:n=a.sent(),E.default.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp),a.label=3;case 3:return a.trys.push([3,5,,6]),[4,t.setLocalDescription(n)];case 4:return a.sent(),E.default.log("Set localDescription:",n,"for:".concat(this.connection.peer)),i={sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata,browser:K.browser},this.connection.type===Fe.Data&&(o=this.connection,i=Er(Er({},i),{label:o.label,reliable:o.reliable,serialization:o.serialization})),r.socket.send({type:se.Offer,payload:i,dst:this.connection.peer}),[3,6];case 5:return s=a.sent(),s!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(r.emitError(ee.WebRTC,s),E.default.log("Failed to setLocalDescription, ",s)),[3,6];case 6:return[3,8];case 7:return l=a.sent(),r.emitError(ee.WebRTC,l),E.default.log("Failed to createOffer, ",l),[3,8];case 8:return[2]}})})},e.prototype._makeAnswer=function(){return ur(this,void 0,Promise,function(){var t,r,n,i,o;return pr(this,function(s){switch(s.label){case 0:t=this.connection.peerConnection,r=this.connection.provider,s.label=1;case 1:return s.trys.push([1,7,,8]),[4,t.createAnswer()];case 2:n=s.sent(),E.default.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(n.sdp=this.connection.options.sdpTransform(n.sdp)||n.sdp),s.label=3;case 3:return s.trys.push([3,5,,6]),[4,t.setLocalDescription(n)];case 4:return s.sent(),E.default.log("Set localDescription:",n,"for:".concat(this.connection.peer)),r.socket.send({type:se.Answer,payload:{sdp:n,type:this.connection.type,connectionId:this.connection.connectionId,browser:K.browser},dst:this.connection.peer}),[3,6];case 5:return i=s.sent(),r.emitError(ee.WebRTC,i),E.default.log("Failed to setLocalDescription, ",i),[3,6];case 6:return[3,8];case 7:return o=s.sent(),r.emitError(ee.WebRTC,o),E.default.log("Failed to create answer, ",o),[3,8];case 8:return[2]}})})},e.prototype.handleSDP=function(t,r){return ur(this,void 0,Promise,function(){var n,i,o,s;return pr(this,function(l){switch(l.label){case 0:r=new RTCSessionDescription(r),n=this.connection.peerConnection,i=this.connection.provider,E.default.log("Setting remote description",r),o=this,l.label=1;case 1:return l.trys.push([1,5,,6]),[4,n.setRemoteDescription(r)];case 2:return l.sent(),E.default.log("Set remoteDescription:".concat(t," for:").concat(this.connection.peer)),t!=="OFFER"?[3,4]:[4,o._makeAnswer()];case 3:l.sent(),l.label=4;case 4:return[3,6];case 5:return s=l.sent(),i.emitError(ee.WebRTC,s),E.default.log("Failed to setRemoteDescription, ",s),[3,6];case 6:return[2]}})})},e.prototype.handleCandidate=function(t){return ur(this,void 0,Promise,function(){var r,n,i,o,s,l;return pr(this,function(a){switch(a.label){case 0:E.default.log("handleCandidate:",t),r=t.candidate,n=t.sdpMLineIndex,i=t.sdpMid,o=this.connection.peerConnection,s=this.connection.provider,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,o.addIceCandidate(new RTCIceCandidate({sdpMid:i,sdpMLineIndex:n,candidate:r}))];case 2:return a.sent(),E.default.log("Added ICE candidate for:".concat(this.connection.peer)),[3,4];case 3:return l=a.sent(),s.emitError(ee.WebRTC,l),E.default.log("Failed to handleCandidate, ",l),[3,4];case 4:return[2]}})})},e.prototype._addTracksToConnection=function(t,r){if(E.default.log("add tracks from stream ".concat(t.id," to peer connection")),!r.addTrack)return E.default.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");t.getTracks().forEach(function(n){r.addTrack(n,t)})},e.prototype._addStreamToMediaConnection=function(t,r){E.default.log("add stream ".concat(t.id," to media connection ").concat(r.connectionId)),r.addStream(t)},e}(),ci={};Ge(ci,"BaseConnection",()=>no,e=>no=e);var Xl=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),no=function(e){Xl(t,e);function t(r,n,i){var o=e.call(this)||this;return o.peer=r,o.provider=n,o.options=i,o._open=!1,o.metadata=i.metadata,o}return Object.defineProperty(t.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),t}(ir.EventEmitter),Ql=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rr=function(){return Rr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Rr.apply(this,arguments)},Zl=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},io=function(e){Ql(t,e);function t(r,n,i){var o=e.call(this,r,n,i)||this;return o._localStream=o.options._stream,o.connectionId=o.options.connectionId||t.ID_PREFIX+K.randomToken(),o._negotiator=new ai.Negotiator(o),o._localStream&&o._negotiator.startConnection({_stream:o._localStream,originator:!0}),o}return Object.defineProperty(t.prototype,"type",{get:function(){return Fe.Media},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localStream",{get:function(){return this._localStream},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"remoteStream",{get:function(){return this._remoteStream},enumerable:!1,configurable:!0}),t.prototype.addStream=function(r){E.default.log("Receiving stream",r),this._remoteStream=r,e.prototype.emit.call(this,"stream",r)},t.prototype.handleMessage=function(r){var n=r.type,i=r.payload;switch(r.type){case se.Answer:this._negotiator.handleSDP(n,i.sdp),this._open=!0;break;case se.Candidate:this._negotiator.handleCandidate(i.candidate);break;default:E.default.warn("Unrecognized message type:".concat(n," from peer:").concat(this.peer));break}},t.prototype.answer=function(r,n){var i,o;if(n===void 0&&(n={}),this._localStream){E.default.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=r,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection(Rr(Rr({},this.options._payload),{_stream:r}));var s=this.provider._getMessages(this.connectionId);try{for(var l=Zl(s),a=l.next();!a.done;a=l.next()){var c=a.value;this.handleMessage(c)}}catch(f){i={error:f}}finally{try{a&&!a.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}this._open=!0},t.prototype.close=function(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,e.prototype.emit.call(this,"close"))},t.ID_PREFIX="mc_",t}(ci.BaseConnection),In={};Ge(In,"DataConnection",()=>so,e=>so=e);var Xs={};Ge(Xs,"EncodingQueue",()=>oo,e=>oo=e);var ef=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oo=function(e){ef(t,e);function t(){var r=e.call(this)||this;return r.fileReader=new FileReader,r._queue=[],r._processing=!1,r.fileReader.onload=function(n){r._processing=!1,n.target&&r.emit("done",n.target.result),r.doNextTask()},r.fileReader.onerror=function(n){E.default.error("EncodingQueue error:",n),r._processing=!1,r.destroy(),r.emit("error",n)},r}return Object.defineProperty(t.prototype,"queue",{get:function(){return this._queue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"processing",{get:function(){return this._processing},enumerable:!1,configurable:!0}),t.prototype.enque=function(r){this.queue.push(r),!this.processing&&this.doNextTask()},t.prototype.destroy=function(){this.fileReader.abort(),this._queue=[]},t.prototype.doNextTask=function(){this.size!==0&&(this.processing||(this._processing=!0,this.fileReader.readAsArrayBuffer(this.queue.shift())))},t}(ir.EventEmitter),tf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rf=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},so=function(e){tf(t,e);function t(r,n,i){var o=e.call(this,r,n,i)||this;return o.stringify=JSON.stringify,o.parse=JSON.parse,o._buffer=[],o._bufferSize=0,o._buffering=!1,o._chunkedData={},o._encodingQueue=new Xs.EncodingQueue,o.connectionId=o.options.connectionId||t.ID_PREFIX+K.randomToken(),o.label=o.options.label||o.connectionId,o.serialization=o.options.serialization||We.Binary,o.reliable=!!o.options.reliable,o._encodingQueue.on("done",function(s){o._bufferedSend(s)}),o._encodingQueue.on("error",function(){E.default.error("DC#".concat(o.connectionId,": Error occured in encoding from blob to arraybuffer, close DC")),o.close()}),o._negotiator=new ai.Negotiator(o),o._negotiator.startConnection(o.options._payload||{originator:!0}),o}return Object.defineProperty(t.prototype,"type",{get:function(){return Fe.Data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataChannel",{get:function(){return this._dc},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bufferSize",{get:function(){return this._bufferSize},enumerable:!1,configurable:!0}),t.prototype.initialize=function(r){this._dc=r,this._configureDataChannel()},t.prototype._configureDataChannel=function(){var r=this;(!K.supports.binaryBlob||K.supports.reliable)&&(this.dataChannel.binaryType="arraybuffer"),this.dataChannel.onopen=function(){E.default.log("DC#".concat(r.connectionId," dc connection success")),r._open=!0,r.emit("open")},this.dataChannel.onmessage=function(n){E.default.log("DC#".concat(r.connectionId," dc onmessage:"),n.data),r._handleDataMessage(n)},this.dataChannel.onclose=function(){E.default.log("DC#".concat(r.connectionId," dc closed for:"),r.peer),r.close()}},t.prototype._handleDataMessage=function(r){var n=this,i=r.data,o=i.constructor,s=this.serialization===We.Binary||this.serialization===We.BinaryUTF8,l=i;if(s){if(o===Blob){K.blobToArrayBuffer(i,function(c){var f=K.unpack(c);n.emit("data",f)});return}else if(o===ArrayBuffer)l=K.unpack(i);else if(o===String){var a=K.binaryStringToArrayBuffer(i);l=K.unpack(a)}}else this.serialization===We.JSON&&(l=this.parse(i));if(l.__peerData){this._handleChunk(l);return}e.prototype.emit.call(this,"data",l)},t.prototype._handleChunk=function(r){var n=r.__peerData,i=this._chunkedData[n]||{data:[],count:0,total:r.total};if(i.data[r.n]=r.data,i.count++,this._chunkedData[n]=i,i.total===i.count){delete this._chunkedData[n];var o=new Blob(i.data);this._handleDataMessage({data:o})}},t.prototype.close=function(){this._buffer=[],this._bufferSize=0,this._chunkedData={},this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this._dc=null),this._encodingQueue&&(this._encodingQueue.destroy(),this._encodingQueue.removeAllListeners(),this._encodingQueue=null),this.open&&(this._open=!1,e.prototype.emit.call(this,"close"))},t.prototype.send=function(r,n){if(!this.open){e.prototype.emit.call(this,"error",new Error("Connection is not open. You should listen for the `open` event before sending messages."));return}if(this.serialization===We.JSON)this._bufferedSend(this.stringify(r));else if(this.serialization===We.Binary||this.serialization===We.BinaryUTF8){var i=K.pack(r);if(!n&&i.size>K.chunkedMTU){this._sendChunks(i);return}K.supports.binaryBlob?this._bufferedSend(i):this._encodingQueue.enque(i)}else this._bufferedSend(r)},t.prototype._bufferedSend=function(r){(this._buffering||!this._trySend(r))&&(this._buffer.push(r),this._bufferSize=this._buffer.length)},t.prototype._trySend=function(r){var n=this;if(!this.open)return!1;if(this.dataChannel.bufferedAmount>t.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(function(){n._buffering=!1,n._tryBuffer()},50),!1;try{this.dataChannel.send(r)}catch(i){return E.default.error("DC#:".concat(this.connectionId," Error when sending:"),i),this._buffering=!0,this.close(),!1}return!0},t.prototype._tryBuffer=function(){if(!!this.open&&this._buffer.length!==0){var r=this._buffer[0];this._trySend(r)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}},t.prototype._sendChunks=function(r){var n,i,o=K.chunk(r);E.default.log("DC#".concat(this.connectionId," Try to send ").concat(o.length," chunks..."));try{for(var s=rf(o),l=s.next();!l.done;l=s.next()){var a=l.value;this.send(a,!0)}}catch(c){n={error:c}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.handleMessage=function(r){var n=r.payload;switch(r.type){case se.Answer:this._negotiator.handleSDP(r.type,n.sdp);break;case se.Candidate:this._negotiator.handleCandidate(n.candidate);break;default:E.default.warn("Unrecognized message type:",r.type,"from peer:",this.peer);break}},t.ID_PREFIX="dc_",t.MAX_BUFFERED_AMOUNT=8388608,t}(ci.BaseConnection),Qs={};Ge(Qs,"API",()=>lo,e=>lo=e);var ao=function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function l(f){try{c(n.next(f))}catch(u){s(u)}}function a(f){try{c(n.throw(f))}catch(u){s(u)}}function c(f){f.done?o(f.value):i(f.value).then(l,a)}c((n=n.apply(e,t||[])).next())})},co=function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(c){return function(f){return a([c,f])}}function a(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(f){c=[6,f],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},lo=function(){function e(t){this._options=t}return e.prototype._buildRequest=function(t){var r=this._options.secure?"https":"http",n=this._options,i=n.host,o=n.port,s=n.path,l=n.key,a=new URL("".concat(r,"://").concat(i,":").concat(o).concat(s).concat(l,"/").concat(t));return a.searchParams.set("ts","".concat(Date.now()).concat(Math.random())),a.searchParams.set("version",si.version),fetch(a.href,{referrerPolicy:this._options.referrerPolicy})},e.prototype.retrieveId=function(){return ao(this,void 0,Promise,function(){var t,r,n;return co(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._buildRequest("id")];case 1:if(t=i.sent(),t.status!==200)throw new Error("Error. Status:".concat(t.status));return[2,t.text()];case 2:throw r=i.sent(),E.default.error("Error retrieving ID",r),n="",this._options.path==="/"&&this._options.host!==K.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n);case 3:return[2]}})})},e.prototype.listAllPeers=function(){return ao(this,void 0,Promise,function(){var t,r,n;return co(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this._buildRequest("peers")];case 1:if(t=i.sent(),t.status!==200)throw t.status===401?(r="",this._options.host===K.CLOUD_HOST?r="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":r="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+r)):new Error("Error. Status:".concat(t.status));return[2,t.json()];case 2:throw n=i.sent(),E.default.error("Error retrieving list peers",n),new Error("Could not get list peers from the server."+n);case 3:return[2]}})})},e}(),nf=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yt=function(){return Yt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Yt.apply(this,arguments)},zt=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},of=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(l){s={error:l}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o},An=function(e){nf(t,e);function t(r,n){var i=e.call(this)||this;i._id=null,i._lastServerId=null,i._destroyed=!1,i._disconnected=!1,i._open=!1,i._connections=new Map,i._lostMessages=new Map;var o;return r&&r.constructor==Object?n=r:r&&(o=r.toString()),n=Yt({debug:0,host:K.CLOUD_HOST,port:K.CLOUD_PORT,path:"/",key:t.DEFAULT_KEY,token:K.randomToken(),config:K.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin"},n),i._options=n,i._options.host==="/"&&(i._options.host=window.location.hostname),i._options.path&&(i._options.path[0]!=="/"&&(i._options.path="/"+i._options.path),i._options.path[i._options.path.length-1]!=="/"&&(i._options.path+="/")),i._options.secure===void 0&&i._options.host!==K.CLOUD_HOST?i._options.secure=K.isSecure():i._options.host==K.CLOUD_HOST&&(i._options.secure=!0),i._options.logFunction&&E.default.setLogFunction(i._options.logFunction),E.default.logLevel=i._options.debug||0,i._api=new Qs.API(n),i._socket=i._createServerConnection(),!K.supports.audioVideo&&!K.supports.data?(i._delayedAbort(ee.BrowserIncompatible,"The current browser does not support WebRTC"),i):!!o&&!K.validateId(o)?(i._delayedAbort(ee.InvalidID,'ID "'.concat(o,'" is invalid')),i):(o?i._initialize(o):i._api.retrieveId().then(function(s){return i._initialize(s)}).catch(function(s){return i._abort(ee.ServerError,s)}),i)}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"open",{get:function(){return this._open},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"socket",{get:function(){return this._socket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connections",{get:function(){var r,n,i=Object.create(null);try{for(var o=zt(this._connections),s=o.next();!s.done;s=o.next()){var l=of(s.value,2),a=l[0],c=l[1];i[a]=c}}catch(f){r={error:f}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disconnected",{get:function(){return this._disconnected},enumerable:!1,configurable:!0}),t.prototype._createServerConnection=function(){var r=this,n=new Ys.Socket(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return n.on(Xe.Message,function(i){r._handleMessage(i)}),n.on(Xe.Error,function(i){r._abort(ee.SocketError,i)}),n.on(Xe.Disconnected,function(){r.disconnected||(r.emitError(ee.Network,"Lost connection to server."),r.disconnect())}),n.on(Xe.Close,function(){r.disconnected||r._abort(ee.SocketClosed,"Underlying socket is already closed.")}),n},t.prototype._initialize=function(r){this._id=r,this.socket.start(r,this._options.token)},t.prototype._handleMessage=function(r){var n,i,o=r.type,s=r.payload,l=r.src;switch(o){case se.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case se.Error:this._abort(ee.ServerError,s.msg);break;case se.IdTaken:this._abort(ee.UnavailableID,'ID "'.concat(this.id,'" is taken'));break;case se.InvalidKey:this._abort(ee.InvalidKey,'API KEY "'.concat(this._options.key,'" is invalid'));break;case se.Leave:E.default.log("Received leave message from ".concat(l)),this._cleanupPeer(l),this._connections.delete(l);break;case se.Expire:this.emitError(ee.PeerUnavailable,"Could not connect to peer ".concat(l));break;case se.Offer:var m=s.connectionId,b=this.getConnection(l,m);if(b&&(b.close(),E.default.warn("Offer received for existing Connection ID:".concat(m))),s.type===Fe.Media){var a=new Dn.MediaConnection(l,this,{connectionId:m,_payload:s,metadata:s.metadata});b=a,this._addConnection(l,b),this.emit("call",a)}else if(s.type===Fe.Data){var c=new In.DataConnection(l,this,{connectionId:m,_payload:s,metadata:s.metadata,label:s.label,serialization:s.serialization,reliable:s.reliable});b=c,this._addConnection(l,b),this.emit("connection",c)}else{E.default.warn("Received malformed connection type:".concat(s.type));return}var f=this._getMessages(m);try{for(var u=zt(f),p=u.next();!p.done;p=u.next()){var g=p.value;b.handleMessage(g)}}catch(R){n={error:R}}finally{try{p&&!p.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}break;default:if(!s){E.default.warn("You received a malformed message from ".concat(l," of type ").concat(o));return}var m=s.connectionId,b=this.getConnection(l,m);b&&b.peerConnection?b.handleMessage(r):m?this._storeMessage(m,r):E.default.warn("You received an unrecognized message:",r);break}},t.prototype._storeMessage=function(r,n){this._lostMessages.has(r)||this._lostMessages.set(r,[]),this._lostMessages.get(r).push(n)},t.prototype._getMessages=function(r){var n=this._lostMessages.get(r);return n?(this._lostMessages.delete(r),n):[]},t.prototype.connect=function(r,n){if(n===void 0&&(n={}),this.disconnected){E.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(ee.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}var i=new In.DataConnection(r,this,n);return this._addConnection(r,i),i},t.prototype.call=function(r,n,i){if(i===void 0&&(i={}),this.disconnected){E.default.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(ee.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){E.default.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}var o=new Dn.MediaConnection(r,this,Yt(Yt({},i),{_stream:n}));return this._addConnection(r,o),o},t.prototype._addConnection=function(r,n){E.default.log("add connection ".concat(n.type,":").concat(n.connectionId," to peerId:").concat(r)),this._connections.has(r)||this._connections.set(r,[]),this._connections.get(r).push(n)},t.prototype._removeConnection=function(r){var n=this._connections.get(r.peer);if(n){var i=n.indexOf(r);i!==-1&&n.splice(i,1)}this._lostMessages.delete(r.connectionId)},t.prototype.getConnection=function(r,n){var i,o,s=this._connections.get(r);if(!s)return null;try{for(var l=zt(s),a=l.next();!a.done;a=l.next()){var c=a.value;if(c.connectionId===n)return c}}catch(f){i={error:f}}finally{try{a&&!a.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return null},t.prototype._delayedAbort=function(r,n){var i=this;setTimeout(function(){i._abort(r,n)},0)},t.prototype._abort=function(r,n){E.default.error("Aborting!"),this.emitError(r,n),this._lastServerId?this.disconnect():this.destroy()},t.prototype.emitError=function(r,n){E.default.error("Error:",n);var i;typeof n=="string"?i=new Error(n):i=n,i.type=r,this.emit("error",i)},t.prototype.destroy=function(){this.destroyed||(E.default.log("Destroy peer with ID:".concat(this.id)),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))},t.prototype._cleanup=function(){var r,n;try{for(var i=zt(this._connections.keys()),o=i.next();!o.done;o=i.next()){var s=o.value;this._cleanupPeer(s),this._connections.delete(s)}}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}this.socket.removeAllListeners()},t.prototype._cleanupPeer=function(r){var n,i,o=this._connections.get(r);if(!!o)try{for(var s=zt(o),l=s.next();!l.done;l=s.next()){var a=l.value;a.close()}}catch(c){n={error:c}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.disconnect=function(){if(!this.disconnected){var r=this.id;E.default.log("Disconnect peer with ID:".concat(r)),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=r,this._id=null,this.emit("disconnected",r)}},t.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)E.default.log("Attempting reconnection to server with ID ".concat(this._lastServerId)),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)E.default.error("In a hurry? We're still trying to make the initial connection!");else throw new Error("Peer ".concat(this.id," cannot reconnect because it is not disconnected from the server!"))}},t.prototype.listAllPeers=function(r){var n=this;r===void 0&&(r=function(i){}),this._api.listAllPeers().then(function(i){return r(i)}).catch(function(i){return n._abort(ee.ServerError,i)})},t.DEFAULT_KEY="peerjs",t}(ir.EventEmitter);Ws.Peer;const Ye=Br({meetingId:""}),Kr=crypto.randomUUID(),Or=qn(""),sn=window.navigator;var uo,po;const sf=(po=(uo=sn.getUserMedia)!=null?uo:sn.webkitGetUserMedia)!=null?po:sn.mozGetUserMedia,Vr=qn(void 0),Mr=qn(void 0);let Dr=new An(Kr);const af=e=>{Dr.call(e,Vr.value).on("stream",function(n){Mr.value=n});var r=Dr.connect(e);r.on("open",function(){r.send({uid:Kr})})};Dr.on("call",function(e){e.answer(Vr.value),e.on("stream",function(t){Mr.value=t})});Dr.on("connection",function(e){e.on("data",function(t){console.log("ondata",t)})});const fo=()=>{Ye.meetingId=Kr,jn()},jn=async()=>{!Ye.meetingId||(Or.value!==Ye.meetingId&&(Or.value=Ye.meetingId),Vr.value=await cf(),Kr!==Ye.meetingId&&af(Ye.meetingId))},cf=async()=>new Promise((e,t)=>{sf({video:!0,audio:!0},e,r=>{alert(r.message),t(r)})}),Wr=e=>(Ho("data-v-595cf606"),e=e(),Jo(),e),lf={class:"meet"},ff=Wr(()=>he("div",{class:"note"}," The Host who started a meeting can't leave (including reload the page), or the meeting ID will be invalidated ",-1)),uf=Wr(()=>he("p",{class:"dividebar"},null,-1)),pf=Wr(()=>he("p",null,null,-1)),df=Wr(()=>he("p",null,null,-1)),hf=Xn({__name:"Top",setup(e){return(t,r)=>(ei(),ti("div",lf,[he("button",{onClick:r[0]||(r[0]=(...n)=>Pe(fo)&&Pe(fo)(...n))}," Start a Meeting "),ff,uf,pf,Pr(he("input",{type:"text","onUpdate:modelValue":r[1]||(r[1]=n=>Pe(Ye).meetingId=n)},null,512),[[Sl,Pe(Ye).meetingId]]),df,he("button",{onClick:r[2]||(r[2]=(...n)=>Pe(jn)&&Pe(jn)(...n))}," Join a Meeting ")]))}});const Zs=(e,t)=>{const r=e.__vccOpts||e;for(const[n,i]of t)r[n]=i;return r},mf=Zs(hf,[["__scopeId","data-v-595cf606"]]),gf=e=>(Ho("data-v-e6afcf1f"),e=e(),Jo(),e),vf=fs(" Meeting ID: "),yf=gf(()=>he("p",null,null,-1)),_f={class:"camera-box"},bf=["srcObject"],Cf=["srcObject"],Sf=Xn({__name:"Meet",setup(e){return(t,r)=>(ei(),ti(Oe,null,[vf,he("strong",null,oa(Pe(Ye).meetingId),1),yf,he("div",_f,[he("video",{srcObject:Pe(Vr),autoplay:"",muted:""},null,8,bf),Pr(he("video",{srcObject:Pe(Mr),autoplay:""},null,8,Cf),[[Pn,Pe(Mr)]])])],64))}});const Tf=Zs(Sf,[["__scopeId","data-v-e6afcf1f"]]),Pf=Xn({__name:"App",setup(e){return(t,r)=>(ei(),ti(Oe,null,[Pr(he("div",null,[Ze(mf)],512),[[Pn,!Pe(Or)]]),Pr(he("div",null,[Ze(Tf)],512),[[Pn,Pe(Or)]])],64))}});kl(Pf).mount("#app");
